---title:UseLazyStateInitializationimpact:MEDIUMimpactDescription:wastedcomputationoneveryrendertags:react,hooks,useState,performance,initialization---##UseLazyStateInitializationPassafunctionto`useState`forexpensiveinitialvalues.Withoutthefunctionform,theinitializerrunsoneveryrendereventhoughthevalueisonlyusedonce.**Incorrect(runsoneveryrender):**```tsxfunctionFilteredList({items}:{items:Item[]}){//buildSearchIndex()runsonEVERYrender,evenafterinitializationconst[searchIndex,setSearchIndex]=useState(buildSearchIndex(items))const[query,setQuery]=useState('')//Whenquerychanges,buildSearchIndexrunsagainunnecessarilyreturn<SearchResultsindex={searchIndex}query={query}/>}functionUserProfile(){//JSON.parserunsoneveryrenderconst[settings,setSettings]=useState(JSON.parse(localStorage.getItem('settings')||'{}'))return<SettingsFormsettings={settings}onChange={setSettings}/>}```**Correct(runsonlyonce):**```tsxfunctionFilteredList({items}:{items:Item[]}){//buildSearchIndex()runsONLYoninitialrenderconst[searchIndex,setSearchIndex]=useState(()=>buildSearchIndex(items))const[query,setQuery]=useState('')return<SearchResultsindex={searchIndex}query={query}/>}functionUserProfile(){//JSON.parserunsonlyoninitialrenderconst[settings,setSettings]=useState(()=>{conststored=localStorage.getItem('settings')returnstored?JSON.parse(stored):{}})return<SettingsFormsettings={settings}onChange={setSettings}/>}```UselazyinitializationwhencomputinginitialvaluesfromlocalStorage/sessionStorage,buildingdatastructures(indexes,maps),readingfromtheDOM,orperformingheavytransformations.Forsimpleprimitives(`useState(0)`),directreferences(`useState(props.value)`),orcheapliterals(`useState({})`),thefunctionformisunnecessary.