---title:HoistRegExpCreationimpact:LOW-MEDIUMimpactDescription:avoidsrecreationtags:javascript,regexp,optimization,memoization---##HoistRegExpCreationDon'tcreateRegExpinsiderender.Hoisttomodulescopeormemoizewith`useMemo()`.**Incorrect(newRegExpeveryrender):**```tsxfunctionHighlighter({text,query}:Props){constregex=newRegExp(`(${query})`,'gi')constparts=text.split(regex)return<>{parts.map((part,i)=>...)}</>}```**Correct(memoizeorhoist):**```tsxconstEMAIL_REGEX=/^[^\s@]+@[^\s@]+\.[^\s@]+$/functionHighlighter({text,query}:Props){constregex=useMemo(()=>newRegExp(`(${escapeRegex(query)})`,'gi'),[query])constparts=text.split(regex)return<>{parts.map((part,i)=>...)}</>}```**Warning(globalregexhasmutablestate):**Globalregex(`/g`)hasmutable`lastIndex`state:```typescriptconstregex=/foo/gregex.test('foo')//true,lastIndex=3regex.test('foo')//false,lastIndex=0```