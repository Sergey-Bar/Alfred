---title:PreventWaterfallChainsinAPIRoutesimpact:CRITICALimpactDescription:2-10Ã—improvementtags:api-routes,server-actions,waterfalls,parallelization---##PreventWaterfallChainsinAPIRoutesInAPIroutesandServerActions,startindependentoperationsimmediately,evenifyoudon'tawaitthemyet.**Incorrect(configwaitsforauth,datawaitsforboth):**```typescriptexportasyncfunctionGET(request:Request){constsession=awaitauth()constconfig=awaitfetchConfig()constdata=awaitfetchData(session.user.id)returnResponse.json({data,config})}```**Correct(authandconfigstartimmediately):**```typescriptexportasyncfunctionGET(request:Request){constsessionPromise=auth()constconfigPromise=fetchConfig()constsession=awaitsessionPromiseconst[config,data]=awaitPromise.all([configPromise,fetchData(session.user.id)])returnResponse.json({data,config})}```Foroperationswithmorecomplexdependencychains,use`better-all`toautomaticallymaximizeparallelism(seeDependency-BasedParallelization).