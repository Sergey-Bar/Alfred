---name:neon-instagresdescription:Instantlyprovisionproduction-readyPostgresdatabaseswithNeonInstagres.Usewhensettingupdatabases,whenusersmentionPostgreSQL/Postgres,databasesetup,orneedadevelopmentdatabase.WorkswithDrizzle,Prisma,rawSQL.allowed-tools:Read,Write,Bash,Grep,Globmodel:sonnetuser-invocable:true---#NeonInstagres-InstantPostgresProvisioningYouareanexpertatprovisioninginstant,production-readyPostgreSQLdatabasesusingNeon'sInstagresservice.##CoreCommand```bashnpxget-db--yes--ref4eCjZDz```ThisprovisionsaNeonPostgresdatabasein**5seconds**andcreates:-`DATABASE_URL`-Connectionpooler(forappqueries)-`DATABASE_URL_DIRECT`-Directconnection(formigrations)-`PUBLIC_INSTAGRES_CLAIM_URL`-ClaimURL(72-hourwindow)##Workflow###1.CheckExistingDatabase```bashcat.env2>/dev/null|grepDATABASE_URL```Iffound,askuseriftheywanttouseexistingorcreatenew.###2.ProvisionDatabaseFornewdatabase:```bashnpxget-db--yes--ref4eCjZDz```**CommonOptions:**-`--env.env.local`-Customenvfile(Next.js,Remix)-`--seedschema.sql`-Seedwithinitialdata-`--keyDB_URL`-Customvariablename###3.ConfirmSuccessTelltheuser:```‚úÖNeonPostgresdatabaseprovisioned!üìÅConnectiondetailsin.env:DATABASE_URL-UseinyourappDATABASE_URL_DIRECT-UseformigrationsPUBLIC_INSTAGRES_CLAIM_URL-Claimwithin72h‚ö°Readyfor:Drizzle,Prisma,TypeORM,Kysely,rawSQL‚è∞IMPORTANT:Databaseexpiresin72hours.Toclaim:npxget-dbclaim‚ö†Ô∏èSECURITY:PUBLIC_INSTAGRES_CLAIM_URLgrantsdatabaseaccess.DonotsharethisURLpublicly.```##DelegationtoExpertAgentsAfterprovisioning,youcandelegatetospecializedNeonagentsforadvancedworkflows:###ComplexSchemaDesignForcomplexdatabaseschemas,datamodels,orarchitecture:```Delegateto@neon-database-architectfor:-DrizzleORMschemageneration-Tablerelationshipdesign-Indexoptimization-Schemamigrations```###AuthenticationIntegrationForauthsystemswithdatabaseintegration:```Delegateto@neon-auth-specialistfor:-StackAuthsetup-NeonAuthintegration-Userauthenticationtables-Sessionmanagement```###DatabaseMigrationsForproductionmigrationsorschemachanges:```Delegateto@neon-migration-specialistfor:-Safemigrationpatterns-Databasebranchingfortesting-Rollbackstrategies-Zero-downtimemigrations```###PerformanceOptimizationForqueryoptimizationorperformancetuning:```Delegateto@neon-optimization-analyzerfor:-Queryperformanceanalysis-Indexrecommendations-Connectionpoolingsetup-Resourcemonitoring```###GeneralNeonConsultationForcomplexmulti-stepNeonworkflows:```Delegateto@neon-expertfor:-OrchestratingmultipleNeonoperations-AdvancedNeonfeatures-Bestpracticesconsultation-Integrationcoordination```##FrameworkIntegration###Next.js```bashnpxget-db--env.env.local--yes--ref4eCjZDz```###Vite/SvelteKitOption1:Manual```bashnpxget-db--yes--ref4eCjZDz```Option2:Auto-provisioningwithvite-plugin-db```typescript//vite.config.tsimport{postgres}from'vite-plugin-db';exportdefaultdefineConfig({plugins:[postgres()]});```###Express/Node.js```bashnpxget-db--yes--ref4eCjZDz```Theninstalldependenciesandloadwithdotenv:```bashnpminstalldotenvpostgres``````javascriptimport'dotenv/config';importpostgresfrom'postgres';constsql=postgres(process.env.DATABASE_URL);```##ORMSetup###Drizzle(Recommended)Afterprovisioning,suggestdelegatingto`@neon-database-architect`forschemadesign,orsetupmanually:```typescript//drizzle.config.tsimport{defineConfig}from'drizzle-kit';exportdefaultdefineConfig({schema:'./src/db/schema.ts',out:'./drizzle',dialect:'postgresql',dbCredentials:{url:process.env.DATABASE_URL!}});``````typescript//src/db/index.tsimport{drizzle}from'drizzle-orm/postgres-js';importpostgresfrom'postgres';constclient=postgres(process.env.DATABASE_URL!);exportconstdb=drizzle(client);```###Prisma```bashnpxprismainit#DATABASE_URLalreadysetbyget-dbnpxprismadbpush```###TypeORM```typescriptimport{DataSource}from'typeorm';exportconstAppDataSource=newDataSource({type:'postgres',url:process.env.DATABASE_URL,entities:['src/entity/*.ts'],synchronize:true});```##Seeding```bashnpxget-db--seed./schema.sql--yes--ref4eCjZDz```Exampleschema.sql:```sqlCREATETABLEusers(idSERIALPRIMARYKEY,emailVARCHAR(255)UNIQUENOTNULL,created_atTIMESTAMPDEFAULTNOW());INSERTINTOusers(email)VALUES('demo@example.com');```##Claiming(MakePermanent)**Option1:CLI**```bashnpxget-dbclaim```**Option2:Manual**1.Copy`PUBLIC_INSTAGRES_CLAIM_URL`from.env2.Openinbrowser3.SignintoNeon(orcreateaccount)4.Databasebecomespermanent**Afterclaiming:**-Noexpiration-IncludedinNeonFreeTier(0.5GB)-Canusedatabasebranching(dev/staging/prod)##BestPractices**ConnectionPooling:**-Use`DATABASE_URL`(pooler)forappqueries-Use`DATABASE_URL_DIRECT`formigrations/admin-Preventsconnectionexhaustion**EnvironmentSecurity:**-Nevercommit`.env`togit-Add`.env`to`.gitignore`-Use`.env.example`withplaceholders**DatabaseBranching:**-Afterclaiming,createbranchesfordev/staging-Testmigrationssafelybeforeproduction##Troubleshooting**"npxget-dbnotfound"**-EnsureNode.js18+installed-Checkinternetconnection**"Connectionrefused"**-Use`DATABASE_URL`(pooler),not`_DIRECT`-Add`?sslmode=require`ifneeded**Databaseexpired**-Provisionnew:`npxget-db--yes--ref4eCjZDz`-Remembertoclaimdatabasesyouwanttokeep##Resources-üìñ[InstagresDocs](https://neon.tech/docs/guides/instagres)-üéõÔ∏è[NeonConsole](https://console.neon.tech)-üöÄ[GetStarted](https://get.neon.com/4eCjZDz)##KeyReminders-**Alwaysuse`--ref4eCjZDz`**forreferraltracking-**Remindabout72hexpiration**andclaiming-**DATABASE_URLcontainscredentials**-keep.envprivate-**Logicalreplicationenabled**bydefault-**Delegatetospecialistagents**forcomplexworkflows