#!/usr/bin/envpython3"""Data-DrivenPersonaGeneratorCreatesresearch-backeduserpersonasfromuserdataandinterviews"""importjsonfromtypingimportDict,List,TuplefromcollectionsimportCounter,defaultdictimportrandomclassPersonaGenerator:"""Generatedata-drivenpersonasfromuserresearch"""def__init__(self):self.persona_components={'demographics':['age','location','occupation','education','income'],'psychographics':['goals','frustrations','motivations','values'],'behaviors':['tech_savviness','usage_frequency','preferred_devices','key_activities'],'needs':['functional','emotional','social']}self.archetype_templates={'power_user':{'characteristics':['tech-savvy','frequentuser','earlyadopter','efficiency-focused'],'goals':['maximizeproductivity','automateworkflows','accessadvancedfeatures'],'frustrations':['slowperformance','limitedcustomization','lackofshortcuts'],'quote':"Ineedtoolsthatcankeepupwithmyworkflow"},'casual_user':{'characteristics':['occasionaluser','basicneeds','preferssimplicity'],'goals':['accomplishspecifictasks','easytouse','minimallearningcurve'],'frustrations':['complexity','toomanyoptions','unclearnavigation'],'quote':"Ijustwantittoworkwithouthavingtothinkaboutit"},'business_user':{'characteristics':['professionalcontext','ROI-focused','teamcollaboration'],'goals':['improveteamefficiency','trackmetrics','integratewithtools'],'frustrations':['lackofreporting','poorcollaborationfeatures','noenterprisefeatures'],'quote':"Ineedtoshowclearvaluetomystakeholders"},'mobile_first':{'characteristics':['primarilymobile','on-the-gousage','quickinteractions'],'goals':['accessanywhere','quickactions','offlinecapability'],'frustrations':['poormobileexperience','desktop-onlyfeatures','slowloading'],'quote':"Myphoneismyprimarycomputingdevice"}}defgenerate_persona_from_data(self,user_data:List[Dict],interview_insights:List[Dict]=None)->Dict:"""Generatepersonafromuserdataandoptionalinterviewinsights"""#Analyzeuserdataforpatternspatterns=self._analyze_user_patterns(user_data)#Identifypersonaarchetypearchetype=self._identify_archetype(patterns)#Generatepersonapersona={'name':self._generate_name(archetype),'archetype':archetype,'tagline':self._generate_tagline(patterns),'demographics':self._aggregate_demographics(user_data),'psychographics':self._extract_psychographics(patterns,interview_insights),'behaviors':self._analyze_behaviors(user_data),'needs_and_goals':self._identify_needs(patterns,interview_insights),'frustrations':self._extract_frustrations(patterns,interview_insights),'scenarios':self._generate_scenarios(archetype,patterns),'quote':self._select_quote(interview_insights,archetype),'data_points':self._calculate_data_points(user_data),'design_implications':self._derive_design_implications(patterns)}returnpersonadef_analyze_user_patterns(self,user_data:List[Dict])->Dict:"""Analyzepatternsinuserdata"""patterns={'usage_frequency':defaultdict(int),'feature_usage':defaultdict(int),'devices':defaultdict(int),'contexts':defaultdict(int),'pain_points':[],'success_metrics':[]}foruserinuser_data:#Frequencypatternsfreq=user.get('usage_frequency','medium')patterns['usage_frequency'][freq]+=1#Featureusageforfeatureinuser.get('features_used',[]):patterns['feature_usage'][feature]+=1#Devicepatternsdevice=user.get('primary_device','desktop')patterns['devices'][device]+=1#Contextpatternscontext=user.get('usage_context','work')patterns['contexts'][context]+=1#Painpointsif'pain_points'inuser:patterns['pain_points'].extend(user['pain_points'])returnpatternsdef_identify_archetype(self,patterns:Dict)->str:"""Identifypersonaarchetypebasedonpatterns"""#Simpleheuristic-basedarchetypeidentificationfreq_pattern=max(patterns['usage_frequency'].items(),key=lambdax:x[1])[0]ifpatterns['usage_frequency']else'medium'device_pattern=max(patterns['devices'].items(),key=lambdax:x[1])[0]ifpatterns['devices']else'desktop'iffreq_pattern=='daily'andlen(patterns['feature_usage'])>10:return'power_user'elifdevice_patternin['mobile','tablet']:return'mobile_first'elifpatterns['contexts'].get('work',0)>patterns['contexts'].get('personal',0):return'business_user'else:return'casual_user'def_generate_name(self,archetype:str)->str:"""Generatepersonanamebasedonarchetype"""names={'power_user':['Alex','Sam','Jordan','Morgan'],'casual_user':['Pat','Jamie','Casey','Riley'],'business_user':['Taylor','Cameron','Avery','Blake'],'mobile_first':['Quinn','Skylar','River','Sage']}name_pool=names.get(archetype,names['casual_user'])first_name=random.choice(name_pool)roles={'power_user':'thePowerUser','casual_user':'theCasualUser','business_user':'theBusinessProfessional','mobile_first':'theMobileNative'}returnf"{first_name}{roles[archetype]}"def_generate_tagline(self,patterns:Dict)->str:"""Generatepersonatagline"""freq=max(patterns['usage_frequency'].items(),key=lambdax:x[1])[0]ifpatterns['usage_frequency']else'regular'context=max(patterns['contexts'].items(),key=lambdax:x[1])[0]ifpatterns['contexts']else'general'returnf"A{freq}userwhoprimarilyusestheproductfor{context}purposes"def_aggregate_demographics(self,user_data:List[Dict])->Dict:"""Aggregatedemographicinformation"""demographics={'age_range':'','location_type':'','occupation_category':'','education_level':'','tech_proficiency':''}ifnotuser_data:returndemographics#Agerangeages=[u.get('age',30)foruinuser_dataif'age'inu]ifages:avg_age=sum(ages)/len(ages)ifavg_age<25:demographics['age_range']='18-24'elifavg_age<35:demographics['age_range']='25-34'elifavg_age<45:demographics['age_range']='35-44'else:demographics['age_range']='45+'#Locationtypelocations=[u.get('location_type','urban')foruinuser_dataif'location_type'inu]iflocations:demographics['location_type']=Counter(locations).most_common(1)[0][0]#Techproficiencytech_scores=[u.get('tech_proficiency',5)foruinuser_dataif'tech_proficiency'inu]iftech_scores:avg_tech=sum(tech_scores)/len(tech_scores)ifavg_tech<3:demographics['tech_proficiency']='Beginner'elifavg_tech<7:demographics['tech_proficiency']='Intermediate'else:demographics['tech_proficiency']='Advanced'returndemographicsdef_extract_psychographics(self,patterns:Dict,interviews:List[Dict]=None)->Dict:"""Extractpsychographicinformation"""psychographics={'motivations':[],'values':[],'attitudes':[],'lifestyle':''}#Extractfrompatternsifpatterns['usage_frequency'].get('daily',0)>0:psychographics['motivations'].append('Efficiency')psychographics['values'].append('Time-saving')ifpatterns['devices'].get('mobile',0)>patterns['devices'].get('desktop',0):psychographics['lifestyle']='On-the-go,mobile-first'psychographics['values'].append('Flexibility')#Extractfrominterviewsifavailableifinterviews:forinterviewininterviews:if'motivations'ininterview:psychographics['motivations'].extend(interview['motivations'])if'values'ininterview:psychographics['values'].extend(interview['values'])#Deduplicatepsychographics['motivations']=list(set(psychographics['motivations']))[:5]psychographics['values']=list(set(psychographics['values']))[:5]returnpsychographicsdef_analyze_behaviors(self,user_data:List[Dict])->Dict:"""Analyzeuserbehaviors"""behaviors={'usage_patterns':[],'feature_preferences':[],'interaction_style':'','learning_preference':''}ifnotuser_data:returnbehaviors#Usagepatternsfrequencies=[u.get('usage_frequency','medium')foruinuser_data]freq_counter=Counter(frequencies)behaviors['usage_patterns']=[f"{freq}:{count}users"forfreq,countinfreq_counter.most_common(3)]#Featurepreferencesall_features=[]foruserinuser_data:all_features.extend(user.get('features_used',[]))feature_counter=Counter(all_features)behaviors['feature_preferences']=[featforfeat,countinfeature_counter.most_common(5)]#Interactionstyleiflen(behaviors['feature_preferences'])>10:behaviors['interaction_style']='Exploratory-usesmanyfeatures'else:behaviors['interaction_style']='Focused-usescorefeatures'returnbehaviorsdef_identify_needs(self,patterns:Dict,interviews:List[Dict]=None)->Dict:"""Identifyuserneedsandgoals"""needs={'primary_goals':[],'secondary_goals':[],'functional_needs':[],'emotional_needs':[]}#Derivefromusagepatternsifpatterns['usage_frequency'].get('daily',0)>0:needs['primary_goals'].append('Completetasksefficiently')needs['functional_needs'].append('Speedandperformance')ifpatterns['contexts'].get('work',0)>0:needs['primary_goals'].append('Professionalproductivity')needs['functional_needs'].append('Integrationwithworktools')#Commonemotionalneedsneeds['emotional_needs']=['Feelconfidentusingtheproduct','Trustthesystemwithdata','Feelsupportedwhenissuesarise']#Extractfrominterviewsifinterviews:forinterviewininterviews:if'goals'ininterview:needs['primary_goals'].extend(interview['goals'][:2])if'needs'ininterview:needs['functional_needs'].extend(interview['needs'][:3])returnneedsdef_extract_frustrations(self,patterns:Dict,interviews:List[Dict]=None)->List[str]:"""Extractuserfrustrations"""frustrations=[]#Commonfrustrationsfrompatternsifpatterns['pain_points']:frustration_counter=Counter(patterns['pain_points'])frustrations=[painforpain,countinfrustration_counter.most_common(5)]#Addarchetype-specificfrustrationsifnotenoughfromdataiflen(frustrations)<3:frustrations.extend(['Slowloadingtimes','Confusingnavigation','Lackofmobileoptimization'])returnfrustrations[:5]def_generate_scenarios(self,archetype:str,patterns:Dict)->List[Dict]:"""Generateusagescenarios"""scenarios=[]#Commonscenariosbasedonarchetypescenario_templates={'power_user':[{'title':'BulkProcessing','context':'Mondaymorning,needstoprocessweek\'sdata','goal':'Completebatchoperationsquickly','steps':['Importdata','Applybulkactions','Exportresults'],'pain_points':['Nokeyboardshortcuts','Slowprocessing']}],'casual_user':[{'title':'QuickTask','context':'Needstocompletesingletask','goal':'Getin,completetask,getout','steps':['Findfeature','Completetask','Save/Exit'],'pain_points':['Can\'tfindfeature','Toomanysteps']}],'business_user':[{'title':'TeamCollaboration','context':'Workingwithteamonproject','goal':'Shareandcollaborateefficiently','steps':['Createcontent','Sharewithteam','Trackfeedback'],'pain_points':['Noreal-timecollaboration','Poorpermissionmanagement']}],'mobile_first':[{'title':'On-the-GoAccess','context':'Commuting,needsquickaccess','goal':'Completetaskonmobile','steps':['Openmobileapp','Quickaction','Syncwithdesktop'],'pain_points':['Featureparityissues','PoormobileUX']}]}returnscenario_templates.get(archetype,scenario_templates['casual_user'])def_select_quote(self,interviews:List[Dict]=None,archetype:str='casual_user')->str:"""Selectrepresentativequote"""ifinterviews:#Trytofindarealquoteforinterviewininterviews:if'quotes'ininterviewandinterview['quotes']:returninterview['quotes'][0]#Usearchetypedefaultreturnself.archetype_templates[archetype]['quote']def_calculate_data_points(self,user_data:List[Dict])->Dict:"""Calculatesupportingdatapoints"""return{'sample_size':len(user_data),'confidence_level':'High'iflen(user_data)>50else'Medium'iflen(user_data)>20else'Low','last_updated':'Current','validation_method':'Quantitativeanalysis+Qualitativeinterviews'}def_derive_design_implications(self,patterns:Dict)->List[str]:"""Derivedesignimplicationsfrompersona"""implications=[]#Basedonfrequencyifpatterns['usage_frequency'].get('daily',0)>patterns['usage_frequency'].get('weekly',0):implications.append('Optimizeforspeedandefficiency')implications.append('Providekeyboardshortcutsandpowerfeatures')else:implications.append('Focusondiscoverabilityandguidance')implications.append('Simplifyonboardingexperience')#Basedondeviceifpatterns['devices'].get('mobile',0)>0:implications.append('Mobile-firstresponsivedesign')implications.append('Touch-optimizedinteractions')#Basedoncontextifpatterns['contexts'].get('work',0)>patterns['contexts'].get('personal',0):implications.append('Professionalvisualdesign')implications.append('Enterprisefeatures(SSO,auditlogs)')returnimplications[:5]defformat_persona_output(self,persona:Dict)->str:"""Formatpersonafordisplay"""output=[]output.append("="*60)output.append(f"PERSONA:{persona['name']}")output.append("="*60)output.append(f"\nðŸ“{persona['tagline']}\n")output.append(f"Archetype:{persona['archetype'].replace('_','').title()}")output.append(f"Quote:\"{persona['quote']}\"\n")output.append("ðŸ‘¤Demographics:")forkey,valueinpersona['demographics'].items():ifvalue:output.append(f"â€¢{key.replace('_','').title()}:{value}")output.append("\nðŸ§ Psychographics:")ifpersona['psychographics']['motivations']:output.append(f"Motivations:{','.join(persona['psychographics']['motivations'])}")ifpersona['psychographics']['values']:output.append(f"Values:{','.join(persona['psychographics']['values'])}")output.append("\nðŸŽ¯Goals&Needs:")forgoalinpersona['needs_and_goals'].get('primary_goals',[])[:3]:output.append(f"â€¢{goal}")output.append("\nðŸ˜¤Frustrations:")forfrustrationinpersona['frustrations'][:3]:output.append(f"â€¢{frustration}")output.append("\nðŸ“ŠBehaviors:")forprefinpersona['behaviors'].get('feature_preferences',[])[:3]:output.append(f"â€¢Frequentlyuses:{pref}")output.append("\nðŸ’¡DesignImplications:")forimplicationinpersona['design_implications']:output.append(f"â†’{implication}")output.append(f"\nðŸ“ˆData:Basedon{persona['data_points']['sample_size']}users")output.append(f"Confidence:{persona['data_points']['confidence_level']}")return"\n".join(output)defcreate_sample_user_data():"""Createsampleuserdatafortesting"""return[{'user_id':f'user_{i}','age':25+(i%30),'usage_frequency':['daily','weekly','monthly'][i%3],'features_used':['dashboard','reports','settings','sharing','export'][:3+(i%3)],'primary_device':['desktop','mobile','tablet'][i%3],'usage_context':['work','personal'][i%2],'tech_proficiency':3+(i%7),'pain_points':['slowloading','confusingUI','missingfeatures'][:(i%3)+1]}foriinrange(30)]defmain():importsysgenerator=PersonaGenerator()#Createsampledatauser_data=create_sample_user_data()#Optionalinterviewinsightsinterview_insights=[{'quotes':["Ineedtoseeallmydatainoneplace"],'motivations':['Efficiency','Control'],'goals':['Savetime','Makebetterdecisions']}]#Generatepersonapersona=generator.generate_persona_from_data(user_data,interview_insights)#Outputiflen(sys.argv)>1andsys.argv[1]=='json':print(json.dumps(persona,indent=2))else:print(generator.format_persona_output(persona))if__name__=="__main__":main()