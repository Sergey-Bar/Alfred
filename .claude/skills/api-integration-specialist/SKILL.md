---name:APIIntegrationSpecialistdescription:Expertinintegratingthird-partyAPIswithproperauthentication,errorhandling,ratelimiting,andretrylogic.UsewhenintegratingRESTAPIs,GraphQLendpoints,webhooks,orexternalservices.SpecializesinOAuthflows,APIkeymanagement,request/responsetransformation,andbuildingrobustAPIclients.---#APIIntegrationSpecialistExpertguidanceforintegratingexternalAPIsintoapplicationswithproduction-readypatterns,securitybestpractices,andcomprehensiveerrorhandling.##WhentoUseThisSkillUsethisskillwhen:-Integratingthird-partyAPIs(Stripe,Twilio,SendGrid,etc.)-BuildingAPIclientlibrariesorwrappers-ImplementingOAuth2.0,APIkeys,orJWTauthentication-Settingupwebhooksandevent-drivenintegrations-Handlingratelimits,retries,andcircuitbreakers-TransformingAPIresponsesforapplicationuse-DebuggingAPIintegrationissues##CoreIntegrationPrinciples###1.Authentication&Security**APIKeyManagement:**```javascript//Storekeysinenvironmentvariables,neverincodeconstapiClient=newAPIClient({apiKey:process.env.SERVICE_API_KEY,baseURL:process.env.SERVICE_BASE_URL});```**OAuth2.0Flow:**```javascript//AuthorizationCodeFlowconstoauth=newOAuth2Client({clientId:process.env.CLIENT_ID,clientSecret:process.env.CLIENT_SECRET,redirectUri:process.env.REDIRECT_URI,scopes:['read:users','write:data']});//GetauthorizationURLconstauthUrl=oauth.getAuthorizationUrl();//Exchangecodefortokensconsttokens=awaitoauth.exchangeCode(code);```###2.Request/ResponseHandling**StandardizedRequestStructure:**```javascriptasyncfunctionmakeRequest(endpoint,options={}){constdefaultHeaders={'Content-Type':'application/json','Authorization':`Bearer${apiKey}`,'User-Agent':'MyApp/1.0.0'};constresponse=awaitfetch(`${baseURL}${endpoint}`,{...options,headers:{...defaultHeaders,...options.headers}});if(!response.ok){thrownewAPIError(response.status,awaitresponse.json());}returnresponse.json();}```**ResponseTransformation:**```javascriptclassAPIClient{asyncgetUser(userId){constraw=awaitthis.request(`/users/${userId}`);//TransformexternalAPIformattointernalmodelreturn{id:raw.user_id,email:raw.email_address,name:`${raw.first_name}${raw.last_name}`,createdAt:newDate(raw.created_timestamp)};}}```###3.ErrorHandling**StructuredErrorTypes:**```javascriptclassAPIErrorextendsError{constructor(status,body){super(`APIError:${status}`);this.status=status;this.body=body;this.isAPIError=true;}isRateLimited(){returnthis.status===429;}isUnauthorized(){returnthis.status===401;}isServerError(){returnthis.status>=500;}}```**RetryLogicwithExponentialBackoff:**```javascriptasyncfunctionretryWithBackoff(fn,maxRetries=3){for(leti=0;i<maxRetries;i++){try{returnawaitfn();}catch(error){if(!error.isAPIError||!error.isServerError()){throwerror;//Don'tretryclienterrors}if(i===maxRetries-1)throwerror;constdelay=Math.pow(2,i)*1000;//1s,2s,4sawaitsleep(delay);}}}```###4.RateLimiting**Client-SideRateLimiter:**```javascriptclassRateLimiter{constructor(maxRequests,windowMs){this.maxRequests=maxRequests;this.windowMs=windowMs;this.requests=[];}asyncacquire(){constnow=Date.now();this.requests=this.requests.filter(t=>now-t<this.windowMs);if(this.requests.length>=this.maxRequests){constoldestRequest=this.requests[0];constwaitTime=this.windowMs-(now-oldestRequest);awaitsleep(waitTime);returnthis.acquire();}this.requests.push(now);}}constlimiter=newRateLimiter(100,60000);//100requestsperminuteasyncfunctionrateLimitedRequest(endpoint,options){awaitlimiter.acquire();returnmakeRequest(endpoint,options);}```###5.WebhookHandling**WebhookVerification:**```javascriptfunctionverifyWebhookSignature(payload,signature,secret){constexpectedSignature=crypto.createHmac('sha256',secret).update(payload).digest('hex');returncrypto.timingSafeEqual(Buffer.from(signature),Buffer.from(expectedSignature));}app.post('/webhooks/stripe',express.raw({type:'application/json'}),(req,res)=>{constsignature=req.headers['stripe-signature'];if(!verifyWebhookSignature(req.body,signature,process.env.STRIPE_WEBHOOK_SECRET)){returnres.status(401).send('Invalidsignature');}constevent=JSON.parse(req.body);handleWebhookEvent(event);res.status(200).send('Received');});```##IntegrationPatterns###RESTAPIClientPattern```javascriptclassServiceAPIClient{constructor(config){this.apiKey=config.apiKey;this.baseURL=config.baseURL;this.timeout=config.timeout||30000;}asyncrequest(method,endpoint,data=null){constoptions={method,headers:{'Authorization':`Bearer${this.apiKey}`,'Content-Type':'application/json'},timeout:this.timeout};if(data){options.body=JSON.stringify(data);}constresponse=awaitretryWithBackoff(()=>fetch(`${this.baseURL}${endpoint}`,options));returnresponse.json();}//ResourcemethodsasyncgetResource(id){returnthis.request('GET',`/resources/${id}`);}asynccreateResource(data){returnthis.request('POST','/resources',data);}asyncupdateResource(id,data){returnthis.request('PUT',`/resources/${id}`,data);}asyncdeleteResource(id){returnthis.request('DELETE',`/resources/${id}`);}}```###PaginationHandling```javascriptasyncfunction*fetchAllPages(endpoint,pageSize=100){letcursor=null;do{constparams=newURLSearchParams({limit:pageSize,...(cursor&&{cursor})});constresponse=awaitapiClient.request('GET',`${endpoint}?${params}`);yieldresponse.data;cursor=response.pagination?.next_cursor;}while(cursor);}//Usageforawait(constpageoffetchAllPages('/users')){processUsers(page);}```##BestPractices###Security-StoreAPIkeysinenvironmentvariablesorsecretsmanagement-UseHTTPSforallAPIcalls-Verifywebhooksignatures-Implementrequestsigningforsensitiveoperations-RotateAPIkeysregularly###Reliability-Implementexponentialbackoffretrylogic-Handleratelimitsgracefully-Setappropriatetimeouts-Usecircuitbreakersforfailingservices-LogallAPIinteractionsfordebugging###Performance-Cacheresponseswhenappropriate-BatchrequestswhentheAPIsupportsit-Usestreamingforlargeresponses-Implementconnectionpooling-MonitorAPIusageandcosts###Monitoring-TrackAPIresponsetimes-Alertonerrorrateincreases-Monitorratelimitconsumption-Logfailedrequestswithcontext-Setuphealthchecksforcriticalintegrations##CommonIntegrationExamples###StripePaymentProcessing```javascriptconststripe=require('stripe')(process.env.STRIPE_SECRET_KEY);asyncfunctioncreatePaymentIntent(amount,currency='usd'){returnawaitstripe.paymentIntents.create({amount,currency,automatic_payment_methods:{enabled:true}});}```###SendGridEmailSending```javascriptconstsgMail=require('@sendgrid/mail');sgMail.setApiKey(process.env.SENDGRID_API_KEY);asyncfunctionsendEmail(to,subject,html){awaitsgMail.send({to,from:process.env.FROM_EMAIL,subject,html});}```###TwilioSMS```javascriptconsttwilio=require('twilio')(process.env.TWILIO_ACCOUNT_SID,process.env.TWILIO_AUTH_TOKEN);asyncfunctionsendSMS(to,body){awaittwilio.messages.create({to,from:process.env.TWILIO_PHONE_NUMBER,body});}```##Troubleshooting###AuthenticationIssues-VerifyAPIkeysarecorrectlyset-Checktokenexpiration-EnsureproperOAuthscopes-Validatesignaturegeneration###RateLimiting-Implementclient-sideratelimiting-Usebatchendpointswhenavailable-Spreadrequestsovertime-ConsiderupgradingAPItier###TimeoutErrors-Increasetimeoutvaluesforslowendpoints-Implementrequestcancellation-Usestreamingforlargepayloads-ChecknetworkconnectivityWhenintegratingAPIs,prioritizesecurity,reliability,andmaintainability.Alwaystesterrorscenariosandedgecasesbeforeproductiondeployment.