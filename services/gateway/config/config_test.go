packageconfig_testimport("os""testing""github.com/AlfredDev/alfred/services/gateway/config")funcTestLoadConfigFromEnv(t*testing.T){os.Setenv("DATABASE_URL","postgres://user:pass@localhost:5432/db")os.Setenv("REDIS_URL","redis://localhost:6379")os.Setenv("ENV","test")deferfunc(){os.Unsetenv("DATABASE_URL")os.Unsetenv("REDIS_URL")os.Unsetenv("ENV")}()cfg:=config.Load()ifcfg.DatabaseURL!="postgres://user:pass@localhost:5432/db"{t.Fatalf("expectedDATABASE_URLtobeloaded,got%s",cfg.DatabaseURL)}ifcfg.RedisURL!="redis://localhost:6379"{t.Fatalf("expectedREDIS_URLtobeloaded,got%s",cfg.RedisURL)}ifcfg.Env!="test"{t.Fatalf("expectedENV=test,got%s",cfg.Env)}}