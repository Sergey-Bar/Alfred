/*
──────────────────────────────────────────────────────────────
Model:       Claude Opus 4.6
Tier:        L3
Logic:       Complete design system overhaul aligned with UI.md spec.
             Implements CSS custom properties for colors, typography,
             spacing, shadows. Enterprise aesthetic: "Datadog + Linear".
Root Cause:  Hardcoded hex colors and no design tokens made theming
             inconsistent across components.
Context:     All components should reference these CSS variables.
Suitability: L3 model for design system architecture.
──────────────────────────────────────────────────────────────
*/

@import "tailwindcss";

/* ═══════════════════════════════════════════════════════════
   DESIGN SYSTEM — CSS Custom Properties
   ═══════════════════════════════════════════════════════════ */

:root {
  /* Primary Brand — Slate palette */
  --color-primary-900: #0F172A;
  --color-primary-800: #1E293B;
  --color-primary-700: #334155;
  --color-primary-600: #475569;
  --color-primary-500: #64748B;
  --color-primary-400: #94A3B8;
  --color-primary-300: #CBD5E1;
  --color-primary-200: #E2E8F0;
  --color-primary-100: #F1F5F9;
  --color-primary-50:  #F8FAFC;

  /* Accent Blue — CTAs, links, active states */
  --color-accent-700: #1D4ED8;
  --color-accent-600: #2563EB;
  --color-accent-500: #3B82F6;
  --color-accent-400: #60A5FA;
  --color-accent-100: #DBEAFE;
  --color-accent-50:  #EFF6FF;

  /* Success Green */
  --color-success-700: #15803D;
  --color-success-600: #16A34A;
  --color-success-100: #DCFCE7;
  --color-success-50:  #F0FDF4;

  /* Warning Orange */
  --color-warning-700: #B45309;
  --color-warning-600: #D97706;
  --color-warning-100: #FEF3C7;
  --color-warning-50:  #FFFBEB;

  /* Danger Red */
  --color-danger-700:  #B91C1C;
  --color-danger-600:  #DC2626;
  --color-danger-100:  #FEE2E2;
  --color-danger-50:   #FEF2F2;

  /* Neutral */
  --color-white:       #FFFFFF;
  --color-border:      #E2E8F0;
  --color-border-dark: #CBD5E1;

  /* Typography */
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', 'Cascadia Code', monospace;

  /* Shadows */
  --shadow-sm:  0 1px 2px rgba(0,0,0,0.05);
  --shadow-md:  0 4px 6px -1px rgba(0,0,0,0.07);
  --shadow-lg:  0 10px 15px -3px rgba(0,0,0,0.08);
  --shadow-xl:  0 20px 25px -5px rgba(0,0,0,0.1);

  /* Layout */
  --sidebar-width: 240px;
  --sidebar-collapsed: 56px;
  --topbar-height: 56px;
  --content-max-width: 1400px;
}

/* Dark mode overrides */
.dark {
  --color-primary-50:  #0F172A;
  --color-primary-100: #1E293B;
  --color-primary-200: #334155;
  --color-primary-300: #475569;
  --color-primary-400: #64748B;
  --color-primary-500: #94A3B8;
  --color-primary-600: #CBD5E1;
  --color-primary-700: #E2E8F0;
  --color-primary-800: #F1F5F9;
  --color-primary-900: #F8FAFC;

  --color-border: #334155;
  --color-border-dark: #475569;
  --color-white: #1E293B;

  --shadow-sm:  0 1px 2px rgba(0,0,0,0.2);
  --shadow-md:  0 4px 6px -1px rgba(0,0,0,0.3);
  --shadow-lg:  0 10px 15px -3px rgba(0,0,0,0.35);
  --shadow-xl:  0 20px 25px -5px rgba(0,0,0,0.4);
}

/* ═══════════════════════════════════════════════════════════
   BASE STYLES
   ═══════════════════════════════════════════════════════════ */

* {
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  @apply bg-[#F1F5F9] text-[#0F172A];
  margin: 0;
  min-height: 100vh;
  font-weight: 400;
  letter-spacing: -0.01em;
}

.dark body {
  @apply bg-[#0F172A] text-[#F1F5F9];
}

h1, h2, h3, h4, h5, h6 {
  @apply font-semibold tracking-tight;
  color: var(--color-primary-900);
}

.dark h1, .dark h2, .dark h3, .dark h4, .dark h5, .dark h6 {
  color: #F8FAFC;
}

code, pre, .font-mono {
  font-family: var(--font-mono);
}

/* ═══════════════════════════════════════════════════════════
   CARD SYSTEM
   ═══════════════════════════════════════════════════════════ */

.card {
  background: var(--color-white);
  border-radius: 12px;
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--color-border);
  padding: 24px;
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}

.dark .card {
  background: #1E293B;
  border-color: #334155;
  box-shadow: var(--shadow-md);
}

.stat-card {
  background: var(--color-white);
  border-radius: 12px;
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--color-border);
  padding: 16px;
  display: flex;
  flex-direction: column;
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}

.dark .stat-card {
  background: #1E293B;
  border-color: #334155;
  box-shadow: var(--shadow-md);
}

.stat-card .stat-value {
  @apply text-3xl font-bold tracking-tight;
  color: var(--color-primary-900);
}

.dark .stat-card .stat-value {
  color: #F8FAFC;
}

.stat-card .stat-label {
  @apply text-sm font-medium mt-1;
  color: var(--color-primary-600);
}

.dark .stat-card .stat-label {
  color: #94A3B8;
}

/* ═══════════════════════════════════════════════════════════
   TABLE SYSTEM
   ═══════════════════════════════════════════════════════════ */

.data-table {
  @apply min-w-full;
  border-collapse: separate;
  border-spacing: 0;
}

.data-table th {
  @apply px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider;
  color: var(--color-primary-600);
  background: var(--color-primary-50);
  border-bottom: 1px solid var(--color-border);
}

.dark .data-table th {
  background: #334155;
  color: #94A3B8;
  border-color: #475569;
}

.data-table td {
  @apply px-6 py-4 whitespace-nowrap text-sm;
  color: var(--color-primary-700);
  border-bottom: 1px solid var(--color-border);
}

.dark .data-table td {
  color: #E2E8F0;
  border-color: #334155;
}

.data-table tbody tr {
  transition: background-color 0.15s ease;
}

.data-table tbody tr:hover {
  background: var(--color-primary-50);
}

.dark .data-table tbody tr:hover {
  background: #334155;
}

/* ═══════════════════════════════════════════════════════════
   BADGE SYSTEM
   ═══════════════════════════════════════════════════════════ */

.badge {
  @apply px-2.5 py-0.5 text-xs font-medium rounded-full inline-flex items-center;
}

.badge-green {
  background: var(--color-success-100);
  color: var(--color-success-700);
}

.dark .badge-green {
  background: rgba(22, 163, 74, 0.15);
  color: #4ADE80;
}

.badge-red {
  background: var(--color-danger-100);
  color: var(--color-danger-700);
}

.dark .badge-red {
  background: rgba(220, 38, 38, 0.15);
  color: #F87171;
}

.badge-yellow {
  background: var(--color-warning-100);
  color: var(--color-warning-700);
}

.dark .badge-yellow {
  background: rgba(217, 119, 6, 0.15);
  color: #FBBF24;
}

.badge-blue {
  background: var(--color-accent-100);
  color: var(--color-accent-700);
}

.dark .badge-blue {
  background: rgba(37, 99, 235, 0.15);
  color: #60A5FA;
}

.badge-primary {
  background: var(--color-accent-600);
  color: white;
}

.dark .badge-primary {
  background: var(--color-accent-500);
}

/* ═══════════════════════════════════════════════════════════
   BUTTON SYSTEM
   ═══════════════════════════════════════════════════════════ */

.btn {
  @apply px-4 py-2 rounded-md font-medium text-sm inline-flex items-center justify-center;
  transition: all 0.15s ease;
  cursor: pointer;
}

.btn:disabled {
  @apply opacity-50 cursor-not-allowed;
}

.btn-primary {
  background: var(--color-accent-600);
  color: white;
  box-shadow: var(--shadow-sm);
}

.btn-primary:hover:not(:disabled) {
  background: var(--color-accent-500);
  box-shadow: var(--shadow-md);
}

.btn-secondary {
  background: var(--color-white);
  color: var(--color-primary-700);
  border: 1px solid var(--color-border);
}

.btn-secondary:hover:not(:disabled) {
  background: var(--color-primary-50);
  border-color: var(--color-border-dark);
}

.dark .btn-secondary {
  background: #334155;
  color: #E2E8F0;
  border-color: #475569;
}

.dark .btn-secondary:hover:not(:disabled) {
  background: #475569;
}

.btn-danger {
  background: var(--color-danger-600);
  color: white;
  box-shadow: var(--shadow-sm);
}

.btn-danger:hover:not(:disabled) {
  background: var(--color-danger-700);
}

.btn-ghost {
  background: transparent;
  color: var(--color-primary-600);
}

.btn-ghost:hover:not(:disabled) {
  background: var(--color-primary-100);
}

.dark .btn-ghost {
  color: #94A3B8;
}

.dark .btn-ghost:hover:not(:disabled) {
  background: #334155;
}

/* ═══════════════════════════════════════════════════════════
   FORM INPUTS
   ═══════════════════════════════════════════════════════════ */

.input {
  @apply w-full px-3 py-2.5 text-sm rounded-md;
  background: var(--color-white);
  border: 1px solid var(--color-border);
  color: var(--color-primary-900);
  transition: border-color 0.15s, box-shadow 0.15s;
}

.dark .input {
  background: #334155;
  border-color: #475569;
  color: #F1F5F9;
}

.input::placeholder {
  color: var(--color-primary-500);
}

.dark .input::placeholder {
  color: #64748B;
}

.input:focus {
  @apply outline-none;
  border-color: var(--color-accent-500);
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.dark .input:focus {
  border-color: var(--color-accent-400);
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);
}

/* ═══════════════════════════════════════════════════════════
   NAVIGATION
   ═══════════════════════════════════════════════════════════ */

.nav-link {
  @apply flex items-center px-3 py-2.5 rounded-md text-sm font-medium;
  color: var(--color-primary-400);
  transition: all 0.15s ease;
}

.nav-link:hover {
  background: rgba(255,255,255,0.04);
  color: var(--color-primary-200);
}

.nav-link.active {
  background: rgba(255,255,255,0.08);
  color: white;
  border-left: 2px solid var(--color-accent-500);
}

/* ═══════════════════════════════════════════════════════════
   SIDEBAR
   ═══════════════════════════════════════════════════════════ */

.sidebar {
  background: var(--color-primary-800);
  width: var(--sidebar-width);
  border-right: 1px solid rgba(255,255,255,0.06);
  transition: width 0.2s ease;
}

.sidebar.collapsed {
  width: var(--sidebar-collapsed);
}

.sidebar .nav-group-label {
  @apply px-3 py-2 text-xs font-semibold uppercase tracking-wider;
  color: var(--color-primary-500);
}

/* ═══════════════════════════════════════════════════════════
   TOPBAR
   ═══════════════════════════════════════════════════════════ */

.topbar {
  height: var(--topbar-height);
  background: var(--color-white);
  border-bottom: 1px solid var(--color-border);
  @apply sticky top-0 z-50;
}

.dark .topbar {
  background: #1E293B;
  border-color: #334155;
}

/* ═══════════════════════════════════════════════════════════
   PAGE HEADER PATTERN
   ═══════════════════════════════════════════════════════════ */

.page-header {
  @apply mb-6;
}

.page-header h1 {
  @apply text-2xl font-bold;
}

.page-header .subtitle {
  @apply text-sm mt-1;
  color: var(--color-primary-500);
}

/* ═══════════════════════════════════════════════════════════
   ANIMATIONS
   ═══════════════════════════════════════════════════════════ */

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes slideIn {
  from { opacity: 0; transform: translateX(-20px); }
  to   { opacity: 1; transform: translateX(0); }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.95); }
  to   { opacity: 1; transform: scale(1); }
}

@keyframes pulse-ring {
  0%   { transform: scale(1);   opacity: 1; }
  100% { transform: scale(1.5); opacity: 0; }
}

.animate-fade-in  { animation: fadeIn  0.3s ease-out forwards; }
.animate-slide-in { animation: slideIn 0.3s ease-out forwards; }
.animate-scale-in { animation: scaleIn 0.2s ease-out forwards; }

main {
  animation: fadeIn 0.3s ease-out;
}

/* ═══════════════════════════════════════════════════════════
   TOOLTIPS
   ═══════════════════════════════════════════════════════════ */

[data-tooltip] {
  position: relative;
}

[data-tooltip]::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  padding: 0.5rem 0.75rem;
  background: var(--color-primary-900);
  color: white;
  font-size: 0.75rem;
  border-radius: 6px;
  white-space: nowrap;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s ease;
  z-index: 100;
  margin-bottom: 0.5rem;
}

[data-tooltip]:hover::after {
  opacity: 1;
}

/* ═══════════════════════════════════════════════════════════
   SCROLLBAR
   ═══════════════════════════════════════════════════════════ */

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--color-primary-300);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-primary-400);
}

.dark ::-webkit-scrollbar-thumb {
  background: #475569;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: #64748B;
}

/* ═══════════════════════════════════════════════════════════
   UTILITIES
   ═══════════════════════════════════════════════════════════ */

.skeleton {
  @apply rounded animate-pulse;
  background: var(--color-primary-200);
}

.dark .skeleton {
  background: #334155;
}

.focus-ring {
  @apply focus:outline-none;
}

.focus-ring:focus-visible {
  box-shadow: 0 0 0 2px var(--color-accent-500);
}

/* RTL Support */
[dir="rtl"] {
  text-align: right;
}

/* Hover lift for interactive cards */
.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

.dark .hover-lift:hover {
  box-shadow: 0 10px 25px -5px rgba(0,0,0,0.4);
}

/* Status dot indicators */
.status-dot {
  @apply inline-block w-2 h-2 rounded-full mr-2;
}

.status-dot.active   { background: var(--color-success-600); }
.status-dot.warning  { background: var(--color-warning-600); }
.status-dot.error    { background: var(--color-danger-600); }
.status-dot.pending  { background: var(--color-accent-500); }
.status-dot.inactive { background: var(--color-primary-400); }

/* Empty state */
.empty-state {
  @apply flex flex-col items-center justify-center py-16 text-center;
}

.empty-state .icon {
  @apply w-16 h-16 mb-4;
  color: var(--color-primary-400);
}

.empty-state h3 {
  @apply text-lg font-semibold mb-2;
}

.empty-state p {
  @apply text-sm max-w-md;
  color: var(--color-primary-500);
}