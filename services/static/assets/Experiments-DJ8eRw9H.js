import{a as j,j as s}from"./index-DmO1ypIk.js";import{r as c}from"./vendor-CoKE50sv.js";import{F as m,v as f,E as g,t as x,U as N,a6 as y,a7 as v,o as h,a8 as b,a9 as w}from"./icons-UwgmH0ZI.js";const p=[{id:1,name:"GPT-4o vs Claude Sonnet for Support",description:"Compare response quality & cost for customer support queries",status:"running",startDate:"2026-02-10",traffic:50,variants:[{name:"Control (GPT-4o)",requests:12400,avgLatency:1.2,avgCost:.032,quality:4.2},{name:"Variant (Claude Sonnet)",requests:12380,avgLatency:.9,avgCost:.028,quality:4.5}],lift:"+7.1%",liftDirection:"up",pValue:.023,confidence:97.7},{id:2,name:"Haiku vs GPT-4o-mini for Classification",description:"Test intent classification accuracy with smaller models",status:"running",startDate:"2026-02-15",traffic:30,variants:[{name:"Control (GPT-4o-mini)",requests:5600,avgLatency:.4,avgCost:.002,quality:3.8},{name:"Variant (Haiku)",requests:5580,avgLatency:.3,avgCost:.001,quality:3.9}],lift:"+2.6%",liftDirection:"up",pValue:.18,confidence:82},{id:3,name:"Semantic Cache Impact on Latency",description:"Measure latency reduction with semantic caching enabled",status:"completed",startDate:"2026-01-20",traffic:100,variants:[{name:"Control (No Cache)",requests:28e3,avgLatency:1.8,avgCost:.041,quality:4.1},{name:"Variant (Cache On)",requests:28e3,avgLatency:.6,avgCost:.015,quality:4.1}],lift:"-63.4%",liftDirection:"down",pValue:.001,confidence:99.9}];function C({status:e}){const r={running:"badge-blue",completed:"badge-green",paused:"badge-yellow",draft:"badge-gray"},t={running:s.jsx(w,{className:"w-3 h-3 mr-1"}),completed:s.jsx(h,{className:"w-3 h-3 mr-1"}),paused:s.jsx(b,{className:"w-3 h-3 mr-1"})};return s.jsxs("span",{className:`badge ${r[e]||"badge-gray"}`,children:[t[e]," ",e]})}function q({experiment:e}){const r=e.pValue<.05;return s.jsxs("div",{className:"card space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-base",children:e.name}),s.jsx("p",{className:"text-sm mt-1",style:{color:"var(--color-primary-500)"},children:e.description})]}),s.jsx(C,{status:e.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs",style:{color:"var(--color-primary-500)"},children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(x,{className:"w-3.5 h-3.5"})," Started ",e.startDate]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(N,{className:"w-3.5 h-3.5"})," ",e.traffic,"% traffic"]})]}),s.jsx("div",{className:"overflow-hidden rounded-lg",style:{border:"1px solid var(--color-border)"},children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{style:{background:"var(--color-primary-100)"},children:[s.jsx("th",{className:"text-left px-3 py-2 font-medium",children:"Variant"}),s.jsx("th",{className:"text-right px-3 py-2 font-medium",children:"Requests"}),s.jsx("th",{className:"text-right px-3 py-2 font-medium",children:"Avg Latency"}),s.jsx("th",{className:"text-right px-3 py-2 font-medium",children:"Avg Cost"}),s.jsx("th",{className:"text-right px-3 py-2 font-medium",children:"Quality"})]})}),s.jsx("tbody",{children:e.variants.map((t,n)=>s.jsxs("tr",{style:{borderTop:"1px solid var(--color-border)"},children:[s.jsx("td",{className:"px-3 py-2 font-medium",children:t.name}),s.jsx("td",{className:"px-3 py-2 text-right",children:t.requests.toLocaleString()}),s.jsxs("td",{className:"px-3 py-2 text-right",children:[t.avgLatency,"s"]}),s.jsxs("td",{className:"px-3 py-2 text-right",children:["$",t.avgCost.toFixed(3)]}),s.jsxs("td",{className:"px-3 py-2 text-right",children:[t.quality,"/5.0"]})]},n))})]})}),s.jsxs("div",{className:"flex items-center justify-between pt-2",style:{borderTop:"1px solid var(--color-border)"},children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs",style:{color:"var(--color-primary-500)"},children:"Lift"}),s.jsxs("p",{className:`font-semibold flex items-center gap-1 ${e.liftDirection==="up"?"text-green-600":"text-blue-600"}`,children:[e.liftDirection==="up"?s.jsx(y,{className:"w-4 h-4"}):s.jsx(v,{className:"w-4 h-4"}),e.lift]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs",style:{color:"var(--color-primary-500)"},children:"p-value"}),s.jsx("p",{className:"font-semibold",children:e.pValue})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs",style:{color:"var(--color-primary-500)"},children:"Confidence"}),s.jsxs("p",{className:"font-semibold",children:[e.confidence,"%"]})]})]}),s.jsx("div",{children:r?s.jsxs("span",{className:"badge badge-green",children:[s.jsx(h,{className:"w-3 h-3 mr-1"})," Statistically Significant"]}):s.jsxs("span",{className:"badge badge-yellow",children:[s.jsx(x,{className:"w-3 h-3 mr-1"})," Needs More Data"]})})]})]})}function V(){const[e,r]=c.useState([]),[t,n]=c.useState("all"),[S,o]=c.useState(!0);c.useEffect(()=>{let a=!0;return o(!0),j.getExperiments().then(l=>{if(a){const i=Array.isArray(l)?l:l.items||l.experiments||[];r(i.length>0?i:p),o(!1)}}).catch(l=>{a&&(console.warn("Failed to fetch experiments, using demo data:",l.message),r(p),o(!1))}),()=>{a=!1}},[]);const d=t==="all"?e:e.filter(a=>a.status===t);return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"page-header flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"flex items-center gap-2",children:[s.jsx(m,{className:"w-6 h-6",style:{color:"var(--color-accent-600)"}}),"Experiments"]}),s.jsx("p",{className:"subtitle",children:"A/B test models, prompts, and routing strategies"})]}),s.jsxs("button",{className:"btn btn-primary",children:[s.jsx(f,{className:"w-4 h-4 mr-2"})," New Experiment"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"label",children:"Running"}),s.jsx("span",{className:"value",children:e.filter(a=>a.status==="running").length})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"label",children:"Completed"}),s.jsx("span",{className:"value",children:e.filter(a=>a.status==="completed").length})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"label",children:"Significant Results"}),s.jsx("span",{className:"value",children:e.filter(a=>a.pValue<.05).length})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"label",children:"Total Requests"}),s.jsx("span",{className:"value",children:e.reduce((a,l)=>a+l.variants.reduce((i,u)=>i+u.requests,0),0).toLocaleString()})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(g,{className:"w-4 h-4",style:{color:"var(--color-primary-500)"}}),["all","running","completed","paused"].map(a=>s.jsx("button",{className:`btn ${t===a?"btn-primary":"btn-ghost"} text-sm px-3 py-1`,onClick:()=>n(a),children:a.charAt(0).toUpperCase()+a.slice(1)},a))]}),s.jsxs("div",{className:"space-y-4",children:[d.map(a=>s.jsx(q,{experiment:a},a.id)),d.length===0&&s.jsxs("div",{className:"empty-state",children:[s.jsx(m,{className:"w-12 h-12 mx-auto mb-3",style:{color:"var(--color-primary-400)"}}),s.jsx("p",{className:"font-medium",children:"No experiments found"}),s.jsx("p",{className:"text-sm mt-1",children:"Create a new experiment to start A/B testing."})]})]})]})}export{V as default};
