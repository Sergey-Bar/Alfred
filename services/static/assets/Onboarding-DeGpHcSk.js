import{j as e,a as N}from"./index-DmO1ypIk.js";import{r as d}from"./vendor-CoKE50sv.js";import{ab as y,K as p,U as f,Q as v,ac as u,ad as k,u as w,ae as g,o}from"./icons-UwgmH0ZI.js";const m=[{id:"org",label:"Organization",icon:y},{id:"apikey",label:"API Key",icon:p},{id:"team",label:"Team Setup",icon:f},{id:"security",label:"Security",icon:v},{id:"complete",label:"All Set!",icon:u}];function S({currentStep:s}){return e.jsx("div",{className:"flex items-center justify-center gap-1 mb-8",children:m.map((a,t)=>{const r=a.icon,l=t===s,i=t<s;return e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all ${l?"bg-blue-100 text-blue-700 font-semibold":i?"bg-green-100 text-green-700":"text-gray-400"}`,children:[i?e.jsx(o,{className:"w-5 h-5 text-green-600"}):e.jsx(r,{className:`w-5 h-5 ${l?"text-blue-600":""}`}),e.jsx("span",{className:"text-sm hidden md:inline",children:a.label})]}),t<m.length-1&&e.jsx("div",{className:`w-8 h-0.5 mx-1 ${t<s?"bg-green-400":"bg-gray-200"}`})]},a.id)})})}function C({data:s,onChange:a}){return e.jsxs("div",{className:"space-y-6 max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to Alfred"}),e.jsx("p",{style:{color:"var(--color-primary-500)"},children:"Let's set up your organization to start managing AI costs."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Organization Name *"}),e.jsx("input",{type:"text",className:"input w-full",placeholder:"Acme Corporation",value:s.orgName||"",onChange:t=>a({...s,orgName:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Industry"}),e.jsxs("select",{className:"input w-full",value:s.industry||"",onChange:t=>a({...s,industry:t.target.value}),children:[e.jsx("option",{value:"",children:"Select industry..."}),e.jsx("option",{value:"technology",children:"Technology"}),e.jsx("option",{value:"finance",children:"Finance & Banking"}),e.jsx("option",{value:"healthcare",children:"Healthcare"}),e.jsx("option",{value:"education",children:"Education"}),e.jsx("option",{value:"legal",children:"Legal"}),e.jsx("option",{value:"government",children:"Government"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estimated Monthly AI Budget"}),e.jsxs("select",{className:"input w-full",value:s.budget||"",onChange:t=>a({...s,budget:t.target.value}),children:[e.jsx("option",{value:"",children:"Select range..."}),e.jsx("option",{value:"small",children:"Under $1,000"}),e.jsx("option",{value:"medium",children:"$1,000 – $10,000"}),e.jsx("option",{value:"large",children:"$10,000 – $50,000"}),e.jsx("option",{value:"enterprise",children:"$50,000+"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Primary Use Case"}),e.jsx("input",{type:"text",className:"input w-full",placeholder:"e.g., Code generation, customer support, content creation",value:s.useCase||"",onChange:t=>a({...s,useCase:t.target.value})})]})]})}function A({data:s,onChange:a}){const[t,r]=d.useState(null),[l,i]=d.useState(!1),c=async()=>{try{const n=await N.createApiKey(s.keyName||"Default Key",["read","write"]);r(n.key||"tp-"+Math.random().toString(36).substring(2,15))}catch{r("tp-"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,8))}},x=()=>{navigator.clipboard.writeText(t),i(!0),setTimeout(()=>i(!1),2e3)};return e.jsxs("div",{className:"space-y-6 max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Create Your First API Key"}),e.jsx("p",{style:{color:"var(--color-primary-500)"},children:"API keys authenticate your applications with Alfred."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Key Name *"}),e.jsx("input",{type:"text",className:"input w-full",placeholder:"e.g., Production, Development",value:s.keyName||"",onChange:n=>a({...s,keyName:n.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Permissions"}),e.jsx("div",{className:"space-y-2",children:["read","write","admin"].map(n=>e.jsxs("label",{className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:(s.keyScopes||["read","write"]).includes(n),onChange:j=>{const h=s.keyScopes||["read","write"];a({...s,keyScopes:j.target.checked?[...h,n]:h.filter(b=>b!==n)})},className:"rounded text-blue-600"}),e.jsx("span",{className:"capitalize font-medium",children:n}),e.jsxs("span",{className:"text-xs",style:{color:"var(--color-primary-400)"},children:[n==="read"&&"— View usage, costs, and reports",n==="write"&&"— Create requests, manage wallets",n==="admin"&&"— Full admin access (users, policies)"]})]},n))})]}),t?e.jsxs("div",{className:"p-4 rounded-lg border-2 border-green-200 bg-green-50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(o,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-700",children:"Key Generated!"})]}),e.jsx("p",{className:"text-xs text-red-600 mb-2",children:"Save this key now — it won't be shown again."}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 p-2 bg-white rounded border text-sm font-mono break-all",children:t}),e.jsx("button",{onClick:x,className:"btn btn-sm",children:l?e.jsx(g,{className:"w-4 h-4 text-green-600"}):"Copy"})]})]}):e.jsxs("button",{onClick:c,className:"btn btn-primary w-full",disabled:!s.keyName,children:[e.jsx(p,{className:"w-4 h-4 mr-2"})," Generate API Key"]})]})}function I({data:s,onChange:a}){const t=()=>{const l=s.teamMembers||[];a({...s,teamMembers:[...l,""]})},r=(l,i)=>{const c=[...s.teamMembers||[]];c[l]=i,a({...s,teamMembers:c})};return e.jsxs("div",{className:"space-y-6 max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Set Up Your Team"}),e.jsx("p",{style:{color:"var(--color-primary-500)"},children:"Create a team and invite members to share budgets."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Team Name *"}),e.jsx("input",{type:"text",className:"input w-full",placeholder:"e.g., Platform Engineering",value:s.teamName||"",onChange:l=>a({...s,teamName:l.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Initial Budget (credits)"}),e.jsx("input",{type:"number",className:"input w-full",placeholder:"50000",value:s.teamBudget||"",onChange:l=>a({...s,teamBudget:l.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Invite Team Members"}),(s.teamMembers||[]).map((l,i)=>e.jsx("input",{type:"email",className:"input w-full mb-2",placeholder:"colleague@company.com",value:l,onChange:c=>r(i,c.target.value)},i)),e.jsx("button",{onClick:t,className:"btn btn-sm mt-1",children:"+ Add Member"})]}),e.jsx("p",{className:"text-xs",style:{color:"var(--color-primary-400)"},children:"You can skip this step and add team members later from the Team Management page."})]})}function M({data:s,onChange:a}){return e.jsxs("div",{className:"space-y-6 max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Security Preferences"}),e.jsx("p",{style:{color:"var(--color-primary-500)"},children:"Configure safety defaults for your organization."})]}),e.jsx("div",{className:"space-y-3",children:[{key:"piiDetection",label:"PII Detection",desc:"Auto-detect and redact personal information in prompts"},{key:"secretScanning",label:"Secret Scanning",desc:"Block prompts containing API keys or credentials"},{key:"injectionDetection",label:"Prompt Injection Detection",desc:"Detect and flag prompt injection attempts"},{key:"auditLogging",label:"Audit Logging",desc:"Log all admin actions with immutable hash chain"}].map(t=>e.jsxs("label",{className:"flex items-start gap-3 p-3 rounded-lg border cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:s[t.key]!==!1,onChange:r=>a({...s,[t.key]:r.target.checked}),className:"rounded text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.label}),e.jsx("p",{className:"text-xs",style:{color:"var(--color-primary-500)"},children:t.desc})]})]},t.key))}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hard Spend Limit (monthly)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg font-bold",children:"$"}),e.jsx("input",{type:"number",className:"input w-full",placeholder:"10000",value:s.hardLimit||"",onChange:t=>a({...s,hardLimit:t.target.value})})]}),e.jsx("p",{className:"text-xs mt-1",style:{color:"var(--color-primary-400)"},children:"Blocks all requests once reached. Configurable per team later."})]})]})}function P({data:s}){return e.jsxs("div",{className:"text-center max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-4",children:e.jsx(u,{className:"w-10 h-10 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"You're All Set!"}),e.jsxs("p",{style:{color:"var(--color-primary-500)"},children:["Your organization ",e.jsx("strong",{children:s.orgName})," is ready to go."]})]}),e.jsxs("div",{className:"text-left space-y-3 p-4 rounded-lg",style:{background:"var(--color-primary-100)"},children:[e.jsx("h3",{className:"font-semibold mb-2",children:"What's Next?"}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(o,{className:"w-5 h-5 text-green-600 mt-0.5 shrink-0"}),e.jsxs("p",{className:"text-sm",children:["Connect your first LLM provider in ",e.jsx("strong",{children:"Providers"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(o,{className:"w-5 h-5 text-green-600 mt-0.5 shrink-0"}),e.jsxs("p",{className:"text-sm",children:["Set up routing rules to optimize costs in ",e.jsx("strong",{children:"Routing Rules"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(o,{className:"w-5 h-5 text-green-600 mt-0.5 shrink-0"}),e.jsxs("p",{className:"text-sm",children:["Configure Slack or Teams alerts in ",e.jsx("strong",{children:"Integrations"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(o,{className:"w-5 h-5 text-green-600 mt-0.5 shrink-0"}),e.jsx("p",{className:"text-sm",children:"Install the VS Code extension for in-IDE cost tracking"})]})]})]})}function T(){const[s,a]=d.useState(0),[t,r]=d.useState({piiDetection:!0,secretScanning:!0,injectionDetection:!0,auditLogging:!0}),l=()=>{switch(s){case 0:return!!t.orgName?.trim();case 1:return!0;case 2:return!0;case 3:return!0;default:return!0}},i=()=>{s<m.length-1&&a(s+1)},c=()=>{s>0&&a(s-1)},x=()=>{window.location.href="/"},n=[e.jsx(C,{data:t,onChange:r},"org"),e.jsx(A,{data:t,onChange:r},"apikey"),e.jsx(I,{data:t,onChange:r},"team"),e.jsx(M,{data:t,onChange:r},"security"),e.jsx(P,{data:t},"complete")];return e.jsx("div",{className:"min-h-screen flex flex-col",style:{background:"var(--color-primary-50, #f8fafc)"},children:e.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsx(S,{currentStep:s}),e.jsxs("div",{className:"card p-8",children:[n[s],e.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[s>0&&s<m.length-1?e.jsxs("button",{onClick:c,className:"btn flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"})," Back"]}):e.jsx("div",{}),s<m.length-2?e.jsxs("button",{onClick:i,className:"btn btn-primary flex items-center gap-2",disabled:!l(),children:["Next ",e.jsx(w,{className:"w-4 h-4"})]}):s===m.length-2?e.jsxs("button",{onClick:i,className:"btn btn-primary flex items-center gap-2",children:["Complete Setup ",e.jsx(g,{className:"w-4 h-4"})]}):e.jsxs("button",{onClick:x,className:"btn btn-primary flex items-center gap-2 mx-auto",children:[e.jsx(u,{className:"w-4 h-4"})," Go to Dashboard"]})]})]})]})})})}export{T as default};
