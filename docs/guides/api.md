#AlfredAPIReference##Authentication**Securitynote:**Examplekeysinthesedocsareplaceholdersonly.NeverpasterealAPIkeys,secrets,orproductioncredentialsintodocumentation,samples,orCI.Userepositorysecretsorenvironmentvariablesforrealcredentials.###APIKeyAuthentication```bashcurl-H"Authorization:BearerREDACTED_EXAMPLE_KEY"\http://localhost:8000/v1/users/me```###SSO/JWTAuthenticationForSSO-enableddeployments,obtainaJWTtokenfromyouridentityprovider:```bashcurl-H"Authorization:BearereyJhbGciOiJSUzI1NiIs..."\http://localhost:8000/v1/users/me```##ChatCompletions###POST/v1/chat/completionsOpenAI-compatiblechatcompletionsendpoint.Drop-inreplacementforOpenAISDK.**Request:**```json{"model":"gpt-4o","temperature":0.7}```**Headers:**```json{"Authorization":"Bearertoken","X-Privacy-Mode":"strict","X-Project-ID":"PROJ-2026-AI","X-Priority":"critical"}```|Header|Required|Description||----------------|--------|--------------------------------||`Authorization`|Yes|Bearertoken(APIkeyorJWT)||`X-Privacy-Mode`|No|`strict`todisablelogging||`X-Project-ID`|No|ProjectIDforcostattribution||`X-Priority`|No|`critical`forpriorityoverride|**Response:**```json{"id":"chatcmpl-abc123","object":"chat.completion","created":1677657600,"choices":[{"message":{"role":"assistant","content":"Hello!HowcanIassistyoutoday?"}}]}```##UserManagement###POST/v1/admin/usersCreateanewuser(adminonly).**Request:**```json{"email":"developer@company.com","name":"JohnDeveloper","personal_quota":100000,"team_id":"engineering"}```**Response:**```json{"id":"user-123","email":"developer@company.com","api_key":"REDACTED_EXAMPLE_KEY","personal_quota":100000}```###GET/v1/users/meGetcurrentuserinformationandbalance.**Response:**```json{"id":"user-123","email":"developer@company.com","personal_quota":100000,"used_quota":45000,"remaining":55000,"efficiency_score":0.82,"team":{"id":"engineering","name":"Engineering","shared_pool":500000}}```###GET/v1/users/me/quotaGetdetailedquotastatus.###PUT/v1/users/me/statusUpdateuserstatus(active/vacation).**Request:**```json{"status":"vacation"}```###PUT/v1/users/me/privacyUpdatedefaultprivacypreference.###PATCH/v1/admin/users/{user_id}/quotaUpdateuserquota(adminonly).**Request:**```json{"personal_quota":150000,"reason":"Q1projectallocationincrease"}```##TeamManagement###POST/v1/admin/teamsCreateanewteam(adminonly).**Request:**```json{"name":"DataScience","shared_pool":500000}```###POST/v1/admin/teams/{id}/members/{user_id}Addusertoteam(adminonly).###GET/v1/teams/my-teamsGetteamsthecurrentuserbelongsto.##CreditReallocation###POST/v1/users/me/transferTransfercreditstoanotheruser.**Request:**```json{"recipient_email":"colleague@company.com","amount":5000,"project_id":"PROJ-2026-Q1-SEARCH","reason":"Searchalgorithmoptimizationsprint","notify_recipient":true}```**Response:**```json{"transfer_id":"txn-456","status":"completed","from":"developer@company.com","to":"colleague@company.com","amount":5000,"project_id":"PROJ-2026-Q1-SEARCH","new_balance":50000,"timestamp":"2026-02-12T10:30:00Z"}```###GET/v1/users/me/transfersGettransferhistory.**QueryParameters:**|Parameter|Default|Description||-----------|-------|---------------------------------||`limit`|20|Maxresults||`direction`|`both`|`incoming`,`outgoing`,or`both`|**Response:**```json{"transfers":[{"id":"txn-456","direction":"outgoing","counterparty":"colleague@company.com","amount":5000,"project_id":"PROJ-2026-Q1-SEARCH","timestamp":"2026-02-12T10:30:00Z"}],"total":12,"page":1}```##Approvals###POST/v1/approvalsRequestaquotaincrease.**Request:**```json{"amount":50000,"reason":"Sprintdeadlinerequiresadditionalcapacity"}```###GET/v1/approvals/pendingListpendingapprovalrequests(adminonly).###POST/v1/approvals/{id}/approveApprovearequest(adminonly).###POST/v1/approvals/{id}/rejectRejectarequest(adminonly).**Request:**```json{"reason":"Budgetconstraints"}```##LiquidityPool###GET/v1/liquidity/reserveGetcompanyreservebalance.**Response:**```json{"company_reserve":2500000,"available_for_request":2000000,"held_for_rollover":500000,"your_contribution_this_cycle":15000,"discount_rate":0.2}```###POST/v1/liquidity/requestRequestcreditsfromthecompanyreserve.**Request:**```json{"amount":10000,"project_id":"PROJ-2026-EMERGENCY","reason":"Productionincidentresponse","urgency":"critical"}```**Response:**```json{"request_id":"liq-789","status":"approved","amount_requested":10000,"amount_received":10000,"discount_applied":2000,"effective_cost":8000,"new_balance":60000,"approval_type":"auto_critical"}```###POST/v1/admin/liquidity/rolloverTriggermanualrollover(adminonly).**Request:**```json{"dry_run":false,"rollover_percentage":50}```**Response:**```json{"rollover_id":"roll-2026-02","dry_run":false,"credits_rolled_over":1250000,"users_affected":234,"new_reserve_balance":3750000}```##Analytics###GET/v1/analytics/usageGetusageanalytics.**QueryParameters:**|Parameter|Default|Description||----------|-------|----------------------------||`period`|`30d`|Timeperiod(7d,30d,90d)||`group_by`|`team`|Grouping(team,user,model)|**Response:**```json{"period":{"start":"2026-01-13","end":"2026-02-12"},"total_credits_used":4500000,"total_cost_usd":45000,"by_team":[{"team":"engineering","credits_used":2000000,"users":45,"avg_efficiency_score":0.78},{"team":"data_science","credits_used":1500000,"users":12,"avg_efficiency_score":0.85}],"by_model":[{"model":"gpt-4o","credits":2500000,"percentage":55.5},{"model":"claude-3-5-sonnet","credits":1200000,"percentage":26.7}]}```###GET/v1/leaderboardGetefficiencyleaderboard.**QueryParameters:**|Parameter|Default|Description||---------|-------|-----------||`period`|`7d`|Timeperiod||`limit`|10|Maxresults|**Response:**```json{"period":"7d","leaderboard":[{"rank":1,"user":"alice@company.com","efficiency_score":0.94,"credits_used":12000,"output_quality":"high"},{"rank":2,"user":"bob@company.com","efficiency_score":0.91,"credits_used":8500,"output_quality":"high"}]}```##SCIM2.0ProvisioningForautomateduser/teamprovisioningfromidentityproviders.###POST/scim/v2/UsersCreateuserviaSCIM.**Request:**```json{"schemas":["urn:ietf:params:scim:schemas:core:2.0:User"],"userName":"newuser@company.com","name":{"givenName":"New","familyName":"User"},"emails":[{"value":"newuser@company.com","primary":true}],"urn:alfred:params:scim:schemas:extension:2.0:User":{"defaultQuota":100000,"team":"engineering","jobLevel":"senior"}}```###POST/scim/v2/GroupsProvisionteamviaSCIM.**Request:**```json{"schemas":["urn:ietf:params:scim:schemas:core:2.0:Group"],"displayName":"DataScienceTeam","members":[{"value":"user-123"},{"value":"user-456"}],"urn:alfred:params:scim:schemas:extension:2.0:Group":{"sharedPool":500000,"quotaPolicy":"proportional"}}```##AdminOperations###POST/v1/admin/sync/ldapTriggerLDAPsync(adminonly).**Response:**```json{"sync_id":"sync-001","status":"completed","users_created":12,"users_updated":45,"users_deactivated":3,"teams_synced":8,"duration_ms":2340}```###POST/v1/admin/sync/hrisTriggerHRsystemsync(adminonly).##Webhooks###POST/v1/admin/webhooksRegisterawebhookendpoint.**Request:**```json{"url":"https://your-app.com/alfred-webhook","events":["transfer.completed","quota.depleted","anomaly.detected","approval.pending"],"secret":"REDACTED_WEBHOOK_SECRET"}```###WebhookEvents|Event|Description||--------------------|------------------------------||`transfer.completed`|Credittransfercompleted||`quota.depleted`|Userquotaexhausted||`quota.warning`|Userat80%+quota||`anomaly.detected`|Unusualusagepatterndetected||`approval.pending`|Newapprovalrequest||`approval.resolved`|Approvalapproved/rejected|###WebhookPayload```json{"event":"quota.depleted","timestamp":"2026-02-12T15:30:00Z","data":{"user_id":"user-123","email":"developer@company.com","quota_type":"personal","depleted_at":"2026-02-12T15:29:45Z"},"signature":"REDACTED_SIGNATURE"}```##ErrorHandlingAllerrorsfollowaconsistentformat:```json{"error":{"code":"QUOTA_EXCEEDED","message":"Personalquotaexhausted.Requestadditionalcreditsoruseteampool.","details":{"current_balance":0,"requested":1500,"suggestion":"Requestfromliquiditypool"}}}```###ErrorCodes|Code|HTTPStatus|Description||-----------------|-----------|-----------------------------||`QUOTA_EXCEEDED`|429|Userquotaexhausted||`TRANSFER_LIMIT`|400|Transferexceedsdailylimit||`INVALID_PROJECT`|400|ProjectIDnotfound||`MFA_REQUIRED`|403|High-valuetransferneedsMFA||`RATE_LIMITED`|429|Toomanyrequests||`PROVIDER_ERROR`|502|UpstreamLLMprovidererror||`UNAUTHORIZED`|401|InvalidormissingAPIkey||`FORBIDDEN`|403|Insufficientpermissions||`NOT_FOUND`|404|Resourcenotfound|##RateLimits|EndpointCategory|Limit|Window||-----------------|--------|-----------||ChatCompletions|1000/min|Peruser||Transfers|20/hour|Peruser||AdminOperations|100/min|PerAPIkey||SCIMProvisioning|500/hour|Pertenant|Ratelimitheadersareincludedinallresponses:```X-RateLimit-Limit:1000X-RateLimit-Remaining:847X-RateLimit-Reset:1707757200```---##SDKExamples###Python```pythonimportopenaiclient=openai.OpenAI(base_url="http://localhost:8000/v1",api_key="REDACTED_EXAMPLE_KEY")response=client.chat.completions.create(model="gpt-4o",messages=[{"role":"user","content":"Hello!"}],extra_headers={"X-Project-ID":"PROJ-2026-AI"})```###JavaScript/TypeScript```typescriptimportOpenAIfrom"openai";constclient=newOpenAI({baseURL:"http://localhost:8000/v1",apiKey:"REDACTED_EXAMPLE_KEY",});constresponse=awaitclient.chat.completions.create({model:"gpt-4o",messages:[{role:"user",content:"Hello!"}],},{headers:{"X-Project-ID":"PROJ-2026-AI"},},);```###cURL```bashcurl-XPOSThttp://localhost:8000/v1/chat/completions\-H"Authorization:BearerREDACTED_EXAMPLE_KEY"\-H"Content-Type:application/json"\-H"X-Project-ID:PROJ-2026-AI"\-d'{"model":"gpt-4o","messages":[{"role":"user","content":"Hello!"}]}'```---_Seealso:[Architecture](architecture.md)|[EnterpriseFeatures](enterprise.md)|[Security](security.md)_