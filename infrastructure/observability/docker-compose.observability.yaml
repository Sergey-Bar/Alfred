version:'3.8'services:#───Loki:LogAggregationEngine───────────────────────────loki:image:grafana/loki:2.9.4ports:-"3100:3100"volumes:-./loki-config.yaml:/etc/loki/local-config.yaml:ro-loki-data:/lokicommand:-config.file=/etc/loki/local-config.yamlrestart:unless-stoppedhealthcheck:test:["CMD","wget","--quiet","--tries=1","--output-document=-","http://localhost:3100/ready"]interval:10stimeout:5sretries:5networks:-alfred-observability#───Promtail:LogCollector────────────────────────────────promtail:image:grafana/promtail:2.9.4volumes:-./promtail-config.yaml:/etc/promtail/config.yaml:ro-/var/log:/var/log:ro-/var/lib/docker/containers:/var/lib/docker/containers:ro-/var/run/docker.sock:/var/run/docker.sock:rocommand:-config.file=/etc/promtail/config.yamlrestart:unless-stoppeddepends_on:loki:condition:service_healthynetworks:-alfred-observability#───Prometheus:MetricsCollection────────────────────────prometheus:image:prom/prometheus:v2.49.1ports:-"9090:9090"volumes:-./prometheus.yaml:/etc/prometheus/prometheus.yml:ro-prometheus-data:/prometheuscommand:-'--config.file=/etc/prometheus/prometheus.yml'-'--storage.tsdb.path=/prometheus'-'--storage.tsdb.retention.time=15d'-'--web.enable-lifecycle'restart:unless-stoppedhealthcheck:test:["CMD","wget","--quiet","--tries=1","--output-document=-","http://localhost:9090/-/healthy"]interval:10stimeout:5sretries:5networks:-alfred-observability#───Grafana:VisualizationDashboard─────────────────────grafana:image:grafana/grafana:10.3.1ports:-"3000:3000"environment:GF_SECURITY_ADMIN_USER:${GRAFANA_ADMIN_USER:-admin}GF_SECURITY_ADMIN_PASSWORD:${GRAFANA_ADMIN_PASSWORD:-alfred-admin}GF_USERS_ALLOW_SIGN_UP:"false"GF_INSTALL_PLUGINS:grafana-clock-panelvolumes:-grafana-data:/var/lib/grafana-./grafana-provisioning:/etc/grafana/provisioning:ro-../grafana:/var/lib/grafana/dashboards/alfred:rorestart:unless-stoppeddepends_on:loki:condition:service_healthyprometheus:condition:service_healthynetworks:-alfred-observabilityvolumes:loki-data:prometheus-data:grafana-data:networks:alfred-observability:driver:bridge