fromtypingimportOptional,Dict,AnyclassAlfredError(Exception):"""BaseexceptionforallAlfredSDKerrors."""def__init__(self,message:str,status_code:Optional[int]=None,response:Optional[Dict[str,Any]]=None,):super().__init__(message)self.message=messageself.status_code=status_codeself.response=responseor{}def__str__(self)->str:ifself.status_code:returnf"[{self.status_code}]{self.message}"returnself.messageclassAuthenticationError(AlfredError):"""RaisedwhenAPIauthenticationfails(401)."""passclassAuthorizationError(AlfredError):"""Raisedwhenaccessisdenied(403)."""passclassNotFoundError(AlfredError):"""Raisedwhenaresourceisnotfound(404)."""passclassValidationError(AlfredError):"""Raisedwhenrequestvalidationfails(422)."""def__init__(self,message:str,errors:Optional[list]=None,**kwargs,):super().__init__(message,**kwargs)self.errors=errorsor[]classQuotaExceededError(AlfredError):"""RaisedwhenAIcreditquotaisexceeded(429orcustom)."""def__init__(self,message:str,current_balance:Optional[float]=None,required:Optional[float]=None,**kwargs,):super().__init__(message,**kwargs)self.current_balance=current_balanceself.required=requiredclassRateLimitError(AlfredError):"""Raisedwhenratelimitishit(429)."""def__init__(self,message:str,retry_after:Optional[int]=None,**kwargs,):super().__init__(message,**kwargs)self.retry_after=retry_afterclassProviderError(AlfredError):"""RaisedwhenanLLMproviderreturnsanerror."""def__init__(self,message:str,provider:Optional[str]=None,**kwargs,):super().__init__(message,**kwargs)self.provider=providerclassCircuitBreakerError(AlfredError):"""Raisedwhencircuitbreakerisopen."""def__init__(self,message:str,provider:Optional[str]=None,recovery_time:Optional[int]=None,**kwargs,):super().__init__(message,**kwargs)self.provider=providerself.recovery_time=recovery_timeclassPolicyViolationError(AlfredError):"""Raisedwhenarequestviolatesagovernancepolicy."""def__init__(self,message:str,policy_id:Optional[str]=None,policy_name:Optional[str]=None,**kwargs,):super().__init__(message,**kwargs)self.policy_id=policy_idself.policy_name=policy_name