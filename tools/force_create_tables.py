"""Force-createallSQLModeltablesontheapplication'sengineusingtestDB.Usage:pythontools/force_create_tables.py"""importosfrompathlibimportPathimportsysroot=Path(__file__).resolve().parents[2]src_backend=root/"src"/"backend"ifstr(src_backend)notinsys.path:sys.path.insert(0,str(src_backend))_tmp=root/".pytest_tmp"_tmp.mkdir(exist_ok=True)os.environ.setdefault("DATABASE_URL",f"sqlite:///{_tmp/'test.db'}")os.environ.setdefault("ENVIRONMENT","test")try:importapp.databaseas_app_db#type:ignorefromsqlmodelimportSQLModelimportapp.models#noqa:F401SQLModel.metadata.create_all(_app_db.engine)print("Createdtableson:",_app_db.engine.url)exceptExceptionase:print("Failedtocreatetables:",e)raise