{{}}{{/*Expandthenameofthechart.*/}}{{-define"alfred.name"-}}{{-default.Chart.Name.Values.nameOverride|trunc63|trimSuffix"-"}}{{-end}}{{/*Createadefaultfullyqualifiedappname.*/}}{{-define"alfred.fullname"-}}{{-if.Values.fullnameOverride}}{{-.Values.fullnameOverride|trunc63|trimSuffix"-"}}{{-else}}{{-$name:=default.Chart.Name.Values.nameOverride}}{{-ifcontains$name.Release.Name}}{{-.Release.Name|trunc63|trimSuffix"-"}}{{-else}}{{-printf"%s-%s".Release.Name$name|trunc63|trimSuffix"-"}}{{-end}}{{-end}}{{-end}}{{/*Createchartnameandversionasusedbythechartlabel.*/}}{{-define"alfred.chart"-}}{{-printf"%s-%s".Chart.Name.Chart.Version|replace"+""_"|trunc63|trimSuffix"-"}}{{-end}}{{/*Commonlabels*/}}{{-define"alfred.labels"-}}helm.sh/chart:{{include"alfred.chart".}}{{include"alfred.selectorLabels".}}{{-if.Chart.AppVersion}}app.kubernetes.io/version:{{.Chart.AppVersion|quote}}{{-end}}app.kubernetes.io/managed-by:{{.Release.Service}}{{-end}}{{/*Selectorlabels*/}}{{-define"alfred.selectorLabels"-}}app.kubernetes.io/name:{{include"alfred.name".}}app.kubernetes.io/instance:{{.Release.Name}}{{-end}}{{/*Createthenameoftheserviceaccounttouse*/}}{{-define"alfred.serviceAccountName"-}}{{-if.Values.serviceAccount.create}}{{-default(include"alfred.fullname".).Values.serviceAccount.name}}{{-else}}{{-default"default".Values.serviceAccount.name}}{{-end}}{{-end}}{{/*Backendlabels*/}}{{-define"alfred.backend.labels"-}}{{include"alfred.labels".}}app.kubernetes.io/component:backend{{-end}}{{/*Backendselectorlabels*/}}{{-define"alfred.backend.selectorLabels"-}}{{include"alfred.selectorLabels".}}app.kubernetes.io/component:backend{{-end}}{{/*Gatewaylabels*/}}{{-define"alfred.gateway.labels"-}}{{include"alfred.labels".}}app.kubernetes.io/component:gateway{{-end}}{{/*Gatewayselectorlabels*/}}{{-define"alfred.gateway.selectorLabels"-}}{{include"alfred.selectorLabels".}}app.kubernetes.io/component:gateway{{-end}}{{/*Frontendlabels*/}}{{-define"alfred.frontend.labels"-}}{{include"alfred.labels".}}app.kubernetes.io/component:frontend{{-end}}{{/*Frontendselectorlabels*/}}{{-define"alfred.frontend.selectorLabels"-}}{{include"alfred.selectorLabels".}}app.kubernetes.io/component:frontend{{-end}}{{/*PostgreSQLhost*/}}{{-define"alfred.postgresql.host"-}}{{-if.Values.postgresql.enabled}}{{-printf"%s-postgresql"(include"alfred.fullname".)}}{{-else}}{{-.Values.externalDatabase.host}}{{-end}}{{-end}}{{/*Redishost*/}}{{-define"alfred.redis.host"-}}{{-if.Values.redis.enabled}}{{-printf"%s-redis-master"(include"alfred.fullname".)}}{{-else}}{{-.Values.externalRedis.host}}{{-end}}{{-end}}