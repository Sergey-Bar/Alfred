import{c as D,a as u,j as e}from"./index-C1A5pA5l.js";import{r as n}from"./vendor-CoKE50sv.js";import{c as v,m as M,H as C,g as d,S as f,K as y}from"./icons-iorli5jj.js";function B(){const{user:x,updateUser:P}=D(),[N,I]=n.useState(!1),[a,m]=n.useState({notifications:{email:!0,browser:!0,quotaWarning:!0,weeklyReport:!1},display:{compactMode:!1,showTokenCost:!0,dateFormat:"DD.MM.YYYY",language:"en"},privacy:{shareUsageStats:!1,showActivityStatus:!0}}),[t,w]=n.useState(null),[S,h]=n.useState(!0),[p,A]=n.useState(null);n.useEffect(()=>{let s=!0;return h(!0),u.getAdminConfig().then(i=>{s&&(w(i),h(!1))}).catch(i=>{s&&(A(i.message||"Failed to load admin config"),h(!1))}),()=>{s=!1}},[]),n.useEffect(()=>{x&&x.preferences&&m(s=>({...s,...x.preferences}))},[x]);const l=(s,i)=>{const c={...a,[s]:{...a[s],[i]:!a[s][i]}};m(c)},Y=(s,i,c)=>{const b={...a,[s]:{...a[s],[i]:c}};m(b)},[g,_]=n.useState(!1),j=u.getApiKey(),k=j?g?j.slice(0,8)+"••••••••••••••••":j.slice(0,4)+"••••••••••••••••••••":"Not set",o=({enabled:s,onToggle:i})=>e.jsx("button",{onClick:i,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s?"bg-[#1d3557]":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s?"translate-x-6":"translate-x-1"}`})}),r=({icon:s,label:i,description:c,children:b})=>e.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-700 last:border-b-0",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(s,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:i}),c&&e.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:c})]})]}),e.jsx("div",{className:"ml-4",children:b})]});return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[S?e.jsx("div",{className:"bg-gray-800 rounded-xl shadow-sm border border-gray-700 p-6 text-gray-400",children:"Loading admin config..."}):p?e.jsx("div",{className:"bg-gray-800 rounded-xl shadow-sm border border-gray-700 p-6 text-red-400",children:p}):t&&e.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-sm border border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(v,{className:"h-5 w-5 text-blue-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Admin Platform Config"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Default Personal Quota"}),e.jsx("div",{className:"text-white font-mono",children:t.default_personal_quota})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Default Team Pool"}),e.jsx("div",{className:"text-white font-mono",children:t.default_team_pool})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Vacation Share %"}),e.jsx("div",{className:"text-white font-mono",children:t.vacation_share_percentage})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"OpenAI API Key"}),e.jsx("div",{className:"text-white font-mono",children:t.openai_api_key?"Set":"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Anthropic API Key"}),e.jsx("div",{className:"text-white font-mono",children:t.anthropic_api_key?"Set":"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Google API Key"}),e.jsx("div",{className:"text-white font-mono",children:t.google_api_key?"Set":"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Azure API Key"}),e.jsx("div",{className:"text-white font-mono",children:t.azure_api_key?"Set":"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Azure API Base"}),e.jsx("div",{className:"text-white font-mono",children:t.azure_api_base||"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Azure API Version"}),e.jsx("div",{className:"text-white font-mono",children:t.azure_api_version||"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"AWS Access Key"}),e.jsx("div",{className:"text-white font-mono",children:t.aws_access_key_id?"Set":"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"AWS Region"}),e.jsx("div",{className:"text-white font-mono",children:t.aws_region||"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"vLLM API Base"}),e.jsx("div",{className:"text-white font-mono",children:t.vllm_api_base||"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"TGI API Base"}),e.jsx("div",{className:"text-white font-mono",children:t.tgi_api_base||"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Ollama API Base"}),e.jsx("div",{className:"text-white font-mono",children:t.ollama_api_base||"Not Set"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Settings"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Manage your preferences and application settings"})]}),N&&e.jsxs("span",{className:"flex items-center px-3 py-1.5 rounded-lg text-sm bg-green-500/20 text-green-400",children:[e.jsx(M,{className:"h-4 w-4 mr-1.5"}),"Saved"]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-sm border border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(v,{className:"h-5 w-5 text-blue-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Appearance"})]}),e.jsx(r,{icon:C,label:"Date Format",description:"Choose your preferred date format",children:e.jsxs("select",{value:a.display.dateFormat,onChange:s=>Y("display","dateFormat",s.target.value),className:"px-3 py-1.5 text-sm bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"DD.MM.YYYY",children:"DD.MM.YYYY"}),e.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})})]}),e.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-sm border border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(d,{className:"h-5 w-5 text-blue-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Notifications"})]}),e.jsx(r,{icon:d,label:"Email Notifications",description:"Receive important updates via email",children:e.jsx(o,{enabled:a.notifications.email,onToggle:()=>l("notifications","email")})}),e.jsx(r,{icon:d,label:"Browser Notifications",description:"Show desktop notifications",children:e.jsx(o,{enabled:a.notifications.browser,onToggle:()=>l("notifications","browser")})}),e.jsx(r,{icon:d,label:"Quota Warning",description:"Alert when quota usage exceeds 80%",children:e.jsx(o,{enabled:a.notifications.quotaWarning,onToggle:()=>l("notifications","quotaWarning")})}),e.jsx(r,{icon:d,label:"Weekly Report",description:"Receive weekly usage summary",children:e.jsx(o,{enabled:a.notifications.weeklyReport,onToggle:()=>l("notifications","weeklyReport")})})]}),e.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-sm border border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(f,{className:"h-5 w-5 text-blue-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Privacy"})]}),e.jsx(r,{icon:f,label:"Share Usage Statistics",description:"Help improve Alfred by sharing anonymous usage data",children:e.jsx(o,{enabled:a.privacy.shareUsageStats,onToggle:()=>l("privacy","shareUsageStats")})}),e.jsx(r,{icon:f,label:"Show Activity Status",description:"Let others see when you're online",children:e.jsx(o,{enabled:a.privacy.showActivityStatus,onToggle:()=>l("privacy","showActivityStatus")})})]}),e.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-sm border border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(y,{className:"h-5 w-5 text-blue-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Data & Security"})]}),e.jsx(r,{icon:y,label:"API Key",description:"Your current session API key",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("code",{className:"px-3 py-1 text-xs bg-gray-700 text-gray-300 rounded font-mono",children:g?k||"Not set":"•••••••••••"}),e.jsx("button",{onClick:()=>_(s=>!s),className:"text-xs px-2 py-1 bg-gray-600 hover:bg-gray-500 rounded text-white border border-gray-500",children:g?"Hide":"Show"})]})})]}),e.jsx("div",{className:"text-center text-sm text-gray-400 py-4",children:"Alfred v1.0.0 | Built with React + Vite + TailwindCSS"})]})}export{B as default};
