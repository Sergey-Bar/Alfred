import{j as e,a as i}from"./index-C1A5pA5l.js";import{r as n}from"./vendor-CoKE50sv.js";import"./icons-iorli5jj.js";function b(){const[d,m]=n.useState(""),x=n.useRef(),p=n.useRef(),u=n.useRef();async function l(s){let r="";s==="users"&&(r=await i.exportUsers()),s==="teams"&&(r=await i.exportTeams()),s==="models"&&(r=await i.exportModels());const o=new Blob([r],{type:"text/csv"}),t=URL.createObjectURL(o),a=document.createElement("a");a.href=t,a.download=`${s}.csv`,a.click(),URL.revokeObjectURL(t),m(`${s} exported`)}async function c(s,r){const o=r.current.files[0];if(!o)return;let t;s==="users"&&(t=await i.importUsers(o)),s==="teams"&&(t=await i.importTeams(o)),s==="models"&&(t=await i.importModels(o)),m(`${s} import: ${t.imported||0} imported, ${t.errors?.length||0} errors`)}return e.jsxs("div",{style:{padding:24},children:[e.jsx("h2",{children:"Import/Export Admin"}),d&&e.jsx("div",{style:{color:"green",marginBottom:8},children:d}),e.jsxs("div",{style:{display:"flex",gap:32},children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Users"}),e.jsx("button",{onClick:()=>l("users"),children:"Export Users CSV"}),e.jsx("br",{}),e.jsx("input",{type:"file",ref:x,accept:".csv"}),e.jsx("button",{onClick:()=>c("users",x),children:"Import Users CSV"})]}),e.jsxs("div",{children:[e.jsx("h3",{children:"Teams"}),e.jsx("button",{onClick:()=>l("teams"),children:"Export Teams CSV"}),e.jsx("br",{}),e.jsx("input",{type:"file",ref:p,accept:".csv"}),e.jsx("button",{onClick:()=>c("teams",p),children:"Import Teams CSV"})]}),e.jsxs("div",{children:[e.jsx("h3",{children:"Models"}),e.jsx("button",{onClick:()=>l("models"),children:"Export Models CSV"}),e.jsx("br",{}),e.jsx("input",{type:"file",ref:u,accept:".csv"}),e.jsx("button",{onClick:()=>c("models",u),children:"Import Models CSV"})]})]})]})}export{b as default};
