import{c as M,a as v,j as e,B as I}from"./index-DmO1ypIk.js";import{r as n}from"./vendor-CoKE50sv.js";import{d as y,o as P,O as C,i as x,S as p,K as N}from"./icons-UwgmH0ZI.js";function L(){const{user:d,updateUser:K}=M(),[w,T]=n.useState(!1),[a,h]=n.useState({notifications:{email:!0,browser:!0,quotaWarning:!0,weeklyReport:!1},display:{compactMode:!1,showTokenCost:!0,dateFormat:"DD.MM.YYYY",language:"en"},privacy:{shareUsageStats:!1,showActivityStatus:!0}}),[t,S]=n.useState(null),[A,m]=n.useState(!0),[u,Y]=n.useState(null),g=d?.role==="admin";n.useEffect(()=>{if(!g){m(!1);return}let s=!0;return m(!0),v.getAdminConfig().then(i=>{s&&(S(i),m(!1))}).catch(i=>{s&&(Y(i.message||"Failed to load admin config"),m(!1))}),()=>{s=!1}},[g]),n.useEffect(()=>{d&&d.preferences&&h(s=>({...s,...d.preferences}))},[d]);const l=(s,i)=>{const c={...a,[s]:{...a[s],[i]:!a[s][i]}};h(c)},_=(s,i,c)=>{const f={...a,[s]:{...a[s],[i]:c}};h(f)},[j,D]=n.useState(!1),b=v.getApiKey(),k=b?j?b.slice(0,8)+"••••••••••••••••":b.slice(0,4)+"••••••••••••••••••••":"Not set",o=({enabled:s,onToggle:i})=>e.jsx("button",{onClick:i,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s?"bg-[#1d3557]":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s?"translate-x-6":"translate-x-1"}`})}),r=({icon:s,label:i,description:c,children:f})=>e.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-700 last:border-b-0",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(s,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:i}),c&&e.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:c})]})]}),e.jsx("div",{className:"ml-4",children:f})]});return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[g&&(A?e.jsx("div",{className:"bg-gray-800 rounded-xl shadow-sm border border-gray-700 p-6 text-gray-400",children:"Loading admin config..."}):u?e.jsx("div",{className:"bg-gray-800 rounded-xl shadow-sm border border-gray-700 p-6 text-red-400",children:u}):t&&e.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-sm border border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(y,{className:"h-5 w-5 text-blue-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Admin Platform Config"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Default Personal Quota"}),e.jsx("div",{className:"text-white font-mono",children:t.default_personal_quota})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Default Team Pool"}),e.jsx("div",{className:"text-white font-mono",children:t.default_team_pool})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Vacation Share %"}),e.jsx("div",{className:"text-white font-mono",children:t.vacation_share_percentage})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"OpenAI API Key"}),e.jsx("div",{className:"text-white font-mono",children:t.openai_api_key?"Set":"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Anthropic API Key"}),e.jsx("div",{className:"text-white font-mono",children:t.anthropic_api_key?"Set":"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Google API Key"}),e.jsx("div",{className:"text-white font-mono",children:t.google_api_key?"Set":"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Azure API Key"}),e.jsx("div",{className:"text-white font-mono",children:t.azure_api_key?"Set":"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Azure API Base"}),e.jsx("div",{className:"text-white font-mono",children:t.azure_api_base||"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Azure API Version"}),e.jsx("div",{className:"text-white font-mono",children:t.azure_api_version||"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"AWS Access Key"}),e.jsx("div",{className:"text-white font-mono",children:t.aws_access_key_id?"Set":"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"AWS Region"}),e.jsx("div",{className:"text-white font-mono",children:t.aws_region||"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"vLLM API Base"}),e.jsx("div",{className:"text-white font-mono",children:t.vllm_api_base||"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"TGI API Base"}),e.jsx("div",{className:"text-white font-mono",children:t.tgi_api_base||"Not Set"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Ollama API Base"}),e.jsx("div",{className:"text-white font-mono",children:t.ollama_api_base||"Not Set"})]})]})]})),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Settings"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Manage your preferences and application settings"})]}),w&&e.jsxs("span",{className:"flex items-center px-3 py-1.5 rounded-lg text-sm bg-green-500/20 text-green-400",children:[e.jsx(P,{className:"h-4 w-4 mr-1.5"}),"Saved"]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-sm border border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(y,{className:"h-5 w-5 text-blue-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Appearance"})]}),e.jsx(r,{icon:C,label:"Date Format",description:"Choose your preferred date format",children:e.jsxs("select",{value:a.display.dateFormat,onChange:s=>_("display","dateFormat",s.target.value),className:"px-3 py-1.5 text-sm bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"DD.MM.YYYY",children:"DD.MM.YYYY"}),e.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})})]}),e.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-sm border border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(x,{className:"h-5 w-5 text-blue-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Notifications"})]}),e.jsx(r,{icon:x,label:"Email Notifications",description:"Receive important updates via email",children:e.jsx(o,{enabled:a.notifications.email,onToggle:()=>l("notifications","email")})}),e.jsx(r,{icon:x,label:"Browser Notifications",description:"Show desktop notifications",children:e.jsx(o,{enabled:a.notifications.browser,onToggle:()=>l("notifications","browser")})}),e.jsx(r,{icon:x,label:"Quota Warning",description:"Alert when quota usage exceeds 80%",children:e.jsx(o,{enabled:a.notifications.quotaWarning,onToggle:()=>l("notifications","quotaWarning")})}),e.jsx(r,{icon:x,label:"Weekly Report",description:"Receive weekly usage summary",children:e.jsx(o,{enabled:a.notifications.weeklyReport,onToggle:()=>l("notifications","weeklyReport")})})]}),e.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-sm border border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(p,{className:"h-5 w-5 text-blue-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Privacy"})]}),e.jsx(r,{icon:p,label:"Share Usage Statistics",description:"Help improve Alfred by sharing anonymous usage data",children:e.jsx(o,{enabled:a.privacy.shareUsageStats,onToggle:()=>l("privacy","shareUsageStats")})}),e.jsx(r,{icon:p,label:"Show Activity Status",description:"Let others see when you're online",children:e.jsx(o,{enabled:a.privacy.showActivityStatus,onToggle:()=>l("privacy","showActivityStatus")})})]}),e.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-sm border border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(N,{className:"h-5 w-5 text-blue-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Data & Security"})]}),e.jsx(r,{icon:N,label:"API Key",description:"Your current session API key",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("code",{className:"px-3 py-1 text-xs bg-gray-700 text-gray-300 rounded font-mono",children:j?k||"Not set":"•••••••••••"}),e.jsx("button",{onClick:()=>D(s=>!s),className:"text-xs px-2 py-1 bg-gray-600 hover:bg-gray-500 rounded text-white border border-gray-500",children:j?"Hide":"Show"})]})})]}),e.jsx("div",{className:"text-center text-sm text-gray-400 py-4",children:I})]})}export{L as default};
